[debug] [2023-05-06T23:48:57.298Z] ----------------------------------------------------------------------
[debug] [2023-05-06T23:48:57.300Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2023-05-06T23:48:57.301Z] CLI Version:   11.27.0
[debug] [2023-05-06T23:48:57.301Z] Platform:      linux
[debug] [2023-05-06T23:48:57.301Z] Node Version:  v18.15.0
[debug] [2023-05-06T23:48:57.301Z] Time:          Sun May 07 2023 02:48:57 GMT+0300 (Moscow Standard Time)
[debug] [2023-05-06T23:48:57.301Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-06T23:48:57.413Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-06T23:48:57.414Z] > authorizing via signed-in user (marat.fakhrutdinov@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2023-05-06T23:48:57.423Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-06T23:48:57.423Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-06T23:48:57.423Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-05-06T23:48:57.435Z] [hub] writing locator at /tmp/hub-chalenge-d57e1.json
[debug] [2023-05-06T23:48:57.453Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-06T23:48:57.454Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-06T23:48:57.454Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[debug] [2023-05-06T23:48:57.461Z] defaultcredentials: writing to file /home/marat/.config/firebase/marat_fakhrutdinov_gmail.com_application_default_credentials.json
[debug] [2023-05-06T23:48:57.464Z] Setting GAC to /home/marat/.config/firebase/marat_fakhrutdinov_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/marat/.config/firebase/marat_fakhrutdinov_gmail.com_application_default_credentials.json"}}
[debug] [2023-05-06T23:48:57.465Z] > refreshing access token with scopes: []
[debug] [2023-05-06T23:48:57.468Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-05-06T23:48:57.468Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-05-06T23:48:57.705Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-05-06T23:48:57.705Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-05-06T23:48:57.714Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1/adminSdkConfig [none]
[debug] [2023-05-06T23:48:58.176Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1/adminSdkConfig 200
[debug] [2023-05-06T23:48:58.177Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1/adminSdkConfig {"projectId":"chalenge-d57e1","databaseURL":"https://chalenge-d57e1-default-rtdb.firebaseio.com","storageBucket":"chalenge-d57e1.appspot.com"}
[debug] [2023-05-06T23:48:58.213Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/chalenge-d57e1/sites 
[debug] [2023-05-06T23:48:59.391Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/chalenge-d57e1/sites 200
[debug] [2023-05-06T23:48:59.391Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/chalenge-d57e1/sites {"sites":[{"name":"projects/chalenge-d57e1/sites/chalenge-d57e1","defaultUrl":"https://chalenge-d57e1.web.app","appId":"1:559093158694:web:45a1c603e17f28019ca7e7","type":"DEFAULT_SITE"}]}
[debug] [2023-05-06T23:48:59.391Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1/webApps/1:559093158694:web:45a1c603e17f28019ca7e7/config [none]
[debug] [2023-05-06T23:49:00.573Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1/webApps/1:559093158694:web:45a1c603e17f28019ca7e7/config 200
[debug] [2023-05-06T23:49:00.573Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1/webApps/1:559093158694:web:45a1c603e17f28019ca7e7/config {"projectId":"chalenge-d57e1","appId":"1:559093158694:web:45a1c603e17f28019ca7e7","databaseURL":"https://chalenge-d57e1-default-rtdb.firebaseio.com","storageBucket":"chalenge-d57e1.appspot.com","apiKey":"AIzaSyCFyZNW98fh6cODARz8eqAGa-iP5J8ib4o","authDomain":"chalenge-d57e1.firebaseapp.com","messagingSenderId":"559093158694","measurementId":"G-FGM65E2W4W"}
[debug] [2023-05-06T23:49:00.584Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1 [none]
[debug] [2023-05-06T23:49:01.163Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1 200
[debug] [2023-05-06T23:49:01.164Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/chalenge-d57e1 {"projectId":"chalenge-d57e1","projectNumber":"559093158694","displayName":"Amazon-chalenge","name":"projects/chalenge-d57e1","resources":{"hostingSite":"chalenge-d57e1","realtimeDatabaseInstance":"chalenge-d57e1-default-rtdb"},"state":"ACTIVE","etag":"1_b68626eb-2037-4fa8-9350-326735c019da"}
[info] i  hosting[chalenge-d57e1]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[chalenge-d57e1]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[debug] [2023-05-06T23:49:01.201Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-05-06T23:49:01.202Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-05-06T23:49:01.202Z] Starting Emulator UI with command {"binary":"node","args":["/home/marat/.cache/firebase/emulators/ui-v1.11.5/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/marat/.cache/firebase/emulators/ui-v1.11.5/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-05-06T23:49:01.320Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-05-06T23:49:01.320Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/home/marat/Amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/marat/Amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2023-05-06T23:49:01.484Z] Validating nodejs source
[debug] [2023-05-06T23:49:02.973Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^12.4.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-05-06T23:49:02.974Z] Building nodejs source
[debug] [2023-05-06T23:49:02.975Z] Failed to find version of module node: reached end of search path /home/marat/Amazon-clone/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-05-06T23:49:02.978Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-06T23:49:02.983Z] Found firebase-functions binary at '/home/marat/Amazon-clone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-06T23:49:03.128Z] Serving at port 8422

[debug] [2023-05-06T23:49:03.347Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-06T23:49:03.353Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/chalenge-d57e1/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/chalenge-d57e1/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-05-06T23:49:12.075Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:12.075Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:49:12.075Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:12.075Z"],"workRunningCount":1}
[debug] [2023-05-06T23:49:12.076Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-06T23:49:12.080Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:49:12.081Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-06T23:49:12.095Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-06T23:49:12.096Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-06T23:49:12.101Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:12.101Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:12.075Z"],"workRunningCount":1}
[debug] [2023-05-06T23:49:12.101Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:12.075Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:12.101Z"],"workRunningCount":2}
[debug] [2023-05-06T23:49:12.101Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-06T23:49:12.105Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:49:12.105Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-06T23:49:12.119Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-06T23:49:12.120Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-06T23:49:13.062Z] [runtime-status] [40127] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:13.064Z] [runtime-status] [40127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.065Z] [runtime-status] [40127] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-06T23:49:13.067Z] [runtime-status] [40127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.097Z] [runtime-status] [40133] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:13.099Z] [runtime-status] [40133] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.101Z] [runtime-status] [40133] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-06T23:49:13.102Z] [runtime-status] [40133] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.246Z] [runtime-status] [40127] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-06T23:49:13.247Z] [runtime-status] [40127] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-06T23:49:13.248Z] [runtime-status] [40127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.249Z] [runtime-status] [40127] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:13.250Z] [runtime-status] [40127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.250Z] [runtime-status] [40127] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-06T23:49:13.277Z] [runtime-status] [40133] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-06T23:49:13.277Z] [runtime-status] [40133] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-06T23:49:13.279Z] [runtime-status] [40133] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.281Z] [runtime-status] [40133] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:13.283Z] [runtime-status] [40133] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:13.283Z] [runtime-status] [40133] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-06T23:49:13.357Z] [runtime-status] [40127] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-06T23:49:13.358Z] [runtime-status] [40127] Listening to port: /tmp/fire_emu_2ee17bacec0936ef.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40127] Listening to port: /tmp/fire_emu_2ee17bacec0936ef.sock"}}
[debug] [2023-05-06T23:49:13.389Z] [runtime-status] [40133] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-06T23:49:13.389Z] [runtime-status] [40133] Listening to port: /tmp/fire_emu_1f325367fb0d31d7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40133] Listening to port: /tmp/fire_emu_1f325367fb0d31d7.sock"}}
[debug] [2023-05-06T23:49:13.414Z] [worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: IDLE"}}
[debug] [2023-05-06T23:49:13.415Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:49:13.415Z] [worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-06T23:49:13.439Z] [worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: IDLE"}}
[debug] [2023-05-06T23:49:13.439Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:49:13.439Z] [worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_aQiZfYhM2GkuQn?t=1683416953', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_aQiZfYhM2GkuQn?t=1683416953',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_aQiZfYhM2GkuQn?t=1683416953',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sat, 06 May 2023 23:49:14 GMT', {"user":"      date: 'Sat, 06 May 2023 23:49:14 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 06 May 2023 23:49:14 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '84178386-1046-4ec5-bc73-04a6cf96e92e', {"user":"      'idempotency-key': '84178386-1046-4ec5-bc73-04a6cf96e92e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '84178386-1046-4ec5-bc73-04a6cf96e92e',"}}
[info] >        'original-request': 'req_aQiZfYhM2GkuQn', {"user":"      'original-request': 'req_aQiZfYhM2GkuQn',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_aQiZfYhM2GkuQn',"}}
[info] >        'request-id': 'req_aQiZfYhM2GkuQn', {"user":"      'request-id': 'req_aQiZfYhM2GkuQn',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_aQiZfYhM2GkuQn',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_aQiZfYhM2GkuQn' {"user":"    requestId: 'req_aQiZfYhM2GkuQn'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_aQiZfYhM2GkuQn'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sat, 06 May 2023 23:49:14 GMT', {"user":"    date: 'Sat, 06 May 2023 23:49:14 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 06 May 2023 23:49:14 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '84178386-1046-4ec5-bc73-04a6cf96e92e', {"user":"    'idempotency-key': '84178386-1046-4ec5-bc73-04a6cf96e92e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '84178386-1046-4ec5-bc73-04a6cf96e92e',"}}
[info] >      'original-request': 'req_aQiZfYhM2GkuQn', {"user":"    'original-request': 'req_aQiZfYhM2GkuQn',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_aQiZfYhM2GkuQn',"}}
[info] >      'request-id': 'req_aQiZfYhM2GkuQn', {"user":"    'request-id': 'req_aQiZfYhM2GkuQn',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_aQiZfYhM2GkuQn',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_aQiZfYhM2GkuQn', {"user":"  requestId: 'req_aQiZfYhM2GkuQn',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_aQiZfYhM2GkuQn',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_bzvvDWH8ZsgLAh?t=1683416953', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_bzvvDWH8ZsgLAh?t=1683416953',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_bzvvDWH8ZsgLAh?t=1683416953',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sat, 06 May 2023 23:49:14 GMT', {"user":"      date: 'Sat, 06 May 2023 23:49:14 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 06 May 2023 23:49:14 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '1998a3dc-e9cb-4555-8c32-96251dc0826a', {"user":"      'idempotency-key': '1998a3dc-e9cb-4555-8c32-96251dc0826a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '1998a3dc-e9cb-4555-8c32-96251dc0826a',"}}
[info] >        'original-request': 'req_bzvvDWH8ZsgLAh', {"user":"      'original-request': 'req_bzvvDWH8ZsgLAh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_bzvvDWH8ZsgLAh',"}}
[info] >        'request-id': 'req_bzvvDWH8ZsgLAh', {"user":"      'request-id': 'req_bzvvDWH8ZsgLAh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_bzvvDWH8ZsgLAh',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_bzvvDWH8ZsgLAh' {"user":"    requestId: 'req_bzvvDWH8ZsgLAh'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_bzvvDWH8ZsgLAh'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sat, 06 May 2023 23:49:14 GMT', {"user":"    date: 'Sat, 06 May 2023 23:49:14 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 06 May 2023 23:49:14 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '1998a3dc-e9cb-4555-8c32-96251dc0826a', {"user":"    'idempotency-key': '1998a3dc-e9cb-4555-8c32-96251dc0826a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '1998a3dc-e9cb-4555-8c32-96251dc0826a',"}}
[info] >      'original-request': 'req_bzvvDWH8ZsgLAh', {"user":"    'original-request': 'req_bzvvDWH8ZsgLAh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_bzvvDWH8ZsgLAh',"}}
[info] >      'request-id': 'req_bzvvDWH8ZsgLAh', {"user":"    'request-id': 'req_bzvvDWH8ZsgLAh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_bzvvDWH8ZsgLAh',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_bzvvDWH8ZsgLAh', {"user":"  requestId: 'req_bzvvDWH8ZsgLAh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_bzvvDWH8ZsgLAh',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-06T23:49:14.103Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:12.101Z"],"workRunningCount":1}
[debug] [2023-05-06T23:49:14.104Z] [worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: exited"}}
[debug] [2023-05-06T23:49:14.104Z] [worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9110ad53-0442-484e-8e1e-64f6181b3acb]: FINISHED"}}
[debug] [2023-05-06T23:49:14.105Z] [worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: exited"}}
[debug] [2023-05-06T23:49:14.105Z] [worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f3220ce7-eaa9-4f9f-bad0-52b086ed302f]: FINISHED"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-06T23:49:14.108Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:49:26.684Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:26.684Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:49:26.684Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:26.684Z"],"workRunningCount":1}
[debug] [2023-05-06T23:49:26.685Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=5999 --> us-central1-api
[debug] [2023-05-06T23:49:26.693Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:49:26.694Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999"}}
[debug] [2023-05-06T23:49:26.694Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-05-06T23:49:26.708Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-06T23:49:26.708Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-06T23:49:26.711Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:26.711Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:26.684Z"],"workRunningCount":1}
[debug] [2023-05-06T23:49:26.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:26.684Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:26.711Z"],"workRunningCount":2}
[debug] [2023-05-06T23:49:26.712Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=5999 --> us-central1-api
[debug] [2023-05-06T23:49:26.719Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:49:26.719Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999"}}
[debug] [2023-05-06T23:49:26.731Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-06T23:49:26.731Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-06T23:49:27.604Z] [runtime-status] [40201] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:27.605Z] [runtime-status] [40201] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.606Z] [runtime-status] [40201] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-06T23:49:27.607Z] [runtime-status] [40201] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.628Z] [runtime-status] [40207] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:27.629Z] [runtime-status] [40207] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.630Z] [runtime-status] [40207] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-06T23:49:27.631Z] [runtime-status] [40207] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.782Z] [runtime-status] [40201] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-06T23:49:27.783Z] [runtime-status] [40201] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-06T23:49:27.783Z] [runtime-status] [40201] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.784Z] [runtime-status] [40201] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:27.786Z] [runtime-status] [40201] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.786Z] [runtime-status] [40201] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-06T23:49:27.801Z] [runtime-status] [40207] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-06T23:49:27.802Z] [runtime-status] [40207] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-06T23:49:27.802Z] [runtime-status] [40207] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.805Z] [runtime-status] [40207] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-06T23:49:27.806Z] [runtime-status] [40207] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-06T23:49:27.807Z] [runtime-status] [40207] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-06T23:49:27.893Z] [runtime-status] [40201] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-06T23:49:27.894Z] [runtime-status] [40201] Listening to port: /tmp/fire_emu_a56557457b702bcc.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40201] Listening to port: /tmp/fire_emu_a56557457b702bcc.sock"}}
[debug] [2023-05-06T23:49:27.917Z] [runtime-status] [40207] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-06T23:49:27.918Z] [runtime-status] [40207] Listening to port: /tmp/fire_emu_afbd415438721af9.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40207] Listening to port: /tmp/fire_emu_afbd415438721af9.sock"}}
[debug] [2023-05-06T23:49:27.948Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-06T23:49:27.949Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:49:27.949Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[debug] [2023-05-06T23:49:27.950Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE"}}
[debug] [2023-05-06T23:49:27.950Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:49:27.951Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 5999 {"user":"Payment Request Received!! for this amount>>> 5999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 5999"}}
[info] >  Payment Request Received!! for this amount>>> 5999 {"user":"Payment Request Received!! for this amount>>> 5999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 5999"}}
[info] i  functions: Finished "us-central1-api" in 660.954823ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 660.954823ms"}}
[debug] [2023-05-06T23:49:28.613Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE"}}
[debug] [2023-05-06T23:49:28.613Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:49:26.684Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 683.771117ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 683.771117ms"}}
[debug] [2023-05-06T23:49:28.634Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-06T23:49:28.634Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:58:11.933Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:58:11.933Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:58:11.933Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:58:11.933Z"],"workRunningCount":1}
[debug] [2023-05-06T23:58:11.933Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=83099 --> us-central1-api
[debug] [2023-05-06T23:58:11.936Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:58:11.937Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=83099, mapping to path=/payments/create?total=83099 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=83099, mapping to path=/payments/create?total=83099"}}
[debug] [2023-05-06T23:58:11.937Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:58:11.937Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 4.964498ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.964498ms"}}
[debug] [2023-05-06T23:58:11.943Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-06T23:58:11.943Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:58:11.946Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:58:11.946Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:58:11.947Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:58:11.946Z"],"workRunningCount":1}
[debug] [2023-05-06T23:58:11.947Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=83099 --> us-central1-api
[debug] [2023-05-06T23:58:11.953Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:58:11.953Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=83099, mapping to path=/payments/create?total=83099 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=83099, mapping to path=/payments/create?total=83099"}}
[debug] [2023-05-06T23:58:11.953Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:58:11.954Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 83099 {"user":"Payment Request Received!! for this amount>>> 83099","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 83099"}}
[info] i  functions: Finished "us-central1-api" in 590.219281ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 590.219281ms"}}
[debug] [2023-05-06T23:58:12.544Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-06T23:58:12.545Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:59:52.099Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:59:52.099Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-06T23:59:52.099Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:59:52.099Z"],"workRunningCount":1}
[debug] [2023-05-06T23:59:52.099Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=5999 --> us-central1-api
[debug] [2023-05-06T23:59:52.103Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:59:52.104Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999"}}
[debug] [2023-05-06T23:59:52.104Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:59:52.104Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[debug] [2023-05-06T23:59:52.107Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:59:52.107Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:59:52.099Z"],"workRunningCount":1}
[debug] [2023-05-06T23:59:52.107Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:59:52.099Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:59:52.107Z"],"workRunningCount":2}
[debug] [2023-05-06T23:59:52.107Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=5999 --> us-central1-api
[debug] [2023-05-06T23:59:52.111Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-06T23:59:52.112Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999"}}
[debug] [2023-05-06T23:59:52.112Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-06T23:59:52.112Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 5999 {"user":"Payment Request Received!! for this amount>>> 5999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 5999"}}
[info] >  Payment Request Received!! for this amount>>> 5999 {"user":"Payment Request Received!! for this amount>>> 5999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 5999"}}
[info] i  functions: Finished "us-central1-api" in 560.458036ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 560.458036ms"}}
[debug] [2023-05-06T23:59:52.673Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE"}}
[debug] [2023-05-06T23:59:52.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-06T23:59:52.099Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 583.523391ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 583.523391ms"}}
[debug] [2023-05-06T23:59:52.688Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-06T23:59:52.689Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:31.580Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:31.580Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:31.580Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:31.580Z"],"workRunningCount":1}
[debug] [2023-05-07T00:00:31.580Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=5999 --> us-central1-api
[debug] [2023-05-07T00:00:31.587Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:00:31.587Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999"}}
[debug] [2023-05-07T00:00:31.588Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:00:31.588Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 5999 {"user":"Payment Request Received!! for this amount>>> 5999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 5999"}}
[info] i  functions: Finished "us-central1-api" in 396.518273ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 396.518273ms"}}
[debug] [2023-05-07T00:00:31.985Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-07T00:00:31.985Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:44.597Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:44.597Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:44.597Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:44.597Z"],"workRunningCount":1}
[debug] [2023-05-07T00:00:44.598Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=29995 --> us-central1-api
[debug] [2023-05-07T00:00:44.601Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:00:44.601Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=29995, mapping to path=/payments/create?total=29995 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=29995, mapping to path=/payments/create?total=29995"}}
[debug] [2023-05-07T00:00:44.601Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:00:44.602Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[debug] [2023-05-07T00:00:44.605Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:44.605Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:44.597Z"],"workRunningCount":1}
[debug] [2023-05-07T00:00:44.606Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:44.597Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:44.605Z"],"workRunningCount":2}
[debug] [2023-05-07T00:00:44.606Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=29995 --> us-central1-api
[debug] [2023-05-07T00:00:44.611Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:00:44.611Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=29995, mapping to path=/payments/create?total=29995 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=29995, mapping to path=/payments/create?total=29995"}}
[debug] [2023-05-07T00:00:44.612Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:00:44.612Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 29995 {"user":"Payment Request Received!! for this amount>>> 29995","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 29995"}}
[info] >  Payment Request Received!! for this amount>>> 29995 {"user":"Payment Request Received!! for this amount>>> 29995","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 29995"}}
[info] i  functions: Finished "us-central1-api" in 511.846928ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 511.846928ms"}}
[debug] [2023-05-07T00:00:45.124Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: IDLE"}}
[debug] [2023-05-07T00:00:45.125Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:44.597Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 540.731899ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 540.731899ms"}}
[debug] [2023-05-07T00:00:45.143Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-07T00:00:45.143Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:46.869Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:46.869Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:46.869Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:46.869Z"],"workRunningCount":1}
[debug] [2023-05-07T00:00:46.869Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=23996 --> us-central1-api
[debug] [2023-05-07T00:00:46.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:00:46.874Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=23996, mapping to path=/payments/create?total=23996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=23996, mapping to path=/payments/create?total=23996"}}
[debug] [2023-05-07T00:00:46.875Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:00:46.875Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 23996 {"user":"Payment Request Received!! for this amount>>> 23996","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 23996"}}
[info] i  functions: Finished "us-central1-api" in 391.487521ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 391.487521ms"}}
[debug] [2023-05-07T00:00:47.267Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: IDLE"}}
[debug] [2023-05-07T00:00:47.267Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:58.395Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:58.395Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:58.396Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:58.395Z"],"workRunningCount":1}
[debug] [2023-05-07T00:00:58.396Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:00:58.401Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:00:58.402Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:00:58.402Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:00:58.403Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:00:58.408Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:58.408Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:58.395Z"],"workRunningCount":1}
[debug] [2023-05-07T00:00:58.408Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:58.395Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:58.408Z"],"workRunningCount":2}
[debug] [2023-05-07T00:00:58.408Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:00:58.414Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:00:58.414Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:00:58.414Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:00:58.415Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_TzlgRyYbunHSsX?t=1683417658', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_TzlgRyYbunHSsX?t=1683417658',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_TzlgRyYbunHSsX?t=1683417658',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:00:58 GMT', {"user":"      date: 'Sun, 07 May 2023 00:00:58 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:00:58 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'c4c6df11-f22b-4ea7-b06e-692b42465896', {"user":"      'idempotency-key': 'c4c6df11-f22b-4ea7-b06e-692b42465896',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c4c6df11-f22b-4ea7-b06e-692b42465896',"}}
[info] >        'original-request': 'req_TzlgRyYbunHSsX', {"user":"      'original-request': 'req_TzlgRyYbunHSsX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_TzlgRyYbunHSsX',"}}
[info] >        'request-id': 'req_TzlgRyYbunHSsX', {"user":"      'request-id': 'req_TzlgRyYbunHSsX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_TzlgRyYbunHSsX',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_TzlgRyYbunHSsX' {"user":"    requestId: 'req_TzlgRyYbunHSsX'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_TzlgRyYbunHSsX'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:00:58 GMT', {"user":"    date: 'Sun, 07 May 2023 00:00:58 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:00:58 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'c4c6df11-f22b-4ea7-b06e-692b42465896', {"user":"    'idempotency-key': 'c4c6df11-f22b-4ea7-b06e-692b42465896',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c4c6df11-f22b-4ea7-b06e-692b42465896',"}}
[info] >      'original-request': 'req_TzlgRyYbunHSsX', {"user":"    'original-request': 'req_TzlgRyYbunHSsX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_TzlgRyYbunHSsX',"}}
[info] >      'request-id': 'req_TzlgRyYbunHSsX', {"user":"    'request-id': 'req_TzlgRyYbunHSsX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_TzlgRyYbunHSsX',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_TzlgRyYbunHSsX', {"user":"  requestId: 'req_TzlgRyYbunHSsX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_TzlgRyYbunHSsX',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_LWZ59JSfJgIJMc?t=1683417658', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_LWZ59JSfJgIJMc?t=1683417658',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_LWZ59JSfJgIJMc?t=1683417658',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:00:58 GMT', {"user":"      date: 'Sun, 07 May 2023 00:00:58 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:00:58 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'bb15df90-dc98-4994-9793-268c7c6dff4b', {"user":"      'idempotency-key': 'bb15df90-dc98-4994-9793-268c7c6dff4b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'bb15df90-dc98-4994-9793-268c7c6dff4b',"}}
[info] >        'original-request': 'req_LWZ59JSfJgIJMc', {"user":"      'original-request': 'req_LWZ59JSfJgIJMc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_LWZ59JSfJgIJMc',"}}
[info] >        'request-id': 'req_LWZ59JSfJgIJMc', {"user":"      'request-id': 'req_LWZ59JSfJgIJMc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_LWZ59JSfJgIJMc',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_LWZ59JSfJgIJMc' {"user":"    requestId: 'req_LWZ59JSfJgIJMc'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_LWZ59JSfJgIJMc'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:00:58 GMT', {"user":"    date: 'Sun, 07 May 2023 00:00:58 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:00:58 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'bb15df90-dc98-4994-9793-268c7c6dff4b', {"user":"    'idempotency-key': 'bb15df90-dc98-4994-9793-268c7c6dff4b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'bb15df90-dc98-4994-9793-268c7c6dff4b',"}}
[info] >      'original-request': 'req_LWZ59JSfJgIJMc', {"user":"    'original-request': 'req_LWZ59JSfJgIJMc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_LWZ59JSfJgIJMc',"}}
[info] >      'request-id': 'req_LWZ59JSfJgIJMc', {"user":"    'request-id': 'req_LWZ59JSfJgIJMc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_LWZ59JSfJgIJMc',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_LWZ59JSfJgIJMc', {"user":"  requestId: 'req_LWZ59JSfJgIJMc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_LWZ59JSfJgIJMc',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:00:58.740Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:00:58.408Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:00:58.741Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:00:58.742Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: exited"}}
[debug] [2023-05-07T00:00:58.742Z] [worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-452969db-f83b-4ede-9970-856aa3f0c814]: FINISHED"}}
[debug] [2023-05-07T00:00:58.742Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: exited"}}
[debug] [2023-05-07T00:00:58.742Z] [worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a1ad9099-0d39-4794-8bc1-e56f7767236e]: FINISHED"}}
[debug] [2023-05-07T00:01:27.271Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:01:27.271Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:01:27.271Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:01:27.271Z"],"workRunningCount":1}
[debug] [2023-05-07T00:01:27.271Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:01:27.275Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:01:27.275Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:01:27.275Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-05-07T00:01:27.285Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:01:27.285Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:01:28.113Z] [runtime-status] [41378] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:01:28.114Z] [runtime-status] [41378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:01:28.115Z] [runtime-status] [41378] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:01:28.116Z] [runtime-status] [41378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:01:28.326Z] [runtime-status] [41378] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:01:28.326Z] [runtime-status] [41378] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:01:28.327Z] [runtime-status] [41378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:01:28.335Z] [runtime-status] [41378] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:01:28.337Z] [runtime-status] [41378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:01:28.338Z] [runtime-status] [41378] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:01:28.456Z] [runtime-status] [41378] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:01:28.457Z] [runtime-status] [41378] Listening to port: /tmp/fire_emu_41565fb97b7bb797.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41378] Listening to port: /tmp/fire_emu_41565fb97b7bb797.sock"}}
[debug] [2023-05-07T00:01:28.510Z] [worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: IDLE"}}
[debug] [2023-05-07T00:01:28.510Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:01:28.511Z] [worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_QIb0FfmxvVuCgo?t=1683417688', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_QIb0FfmxvVuCgo?t=1683417688',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_QIb0FfmxvVuCgo?t=1683417688',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:01:29 GMT', {"user":"      date: 'Sun, 07 May 2023 00:01:29 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:01:29 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'cbe6e1d0-7e36-4ff7-bd9d-1260f3d4b15f', {"user":"      'idempotency-key': 'cbe6e1d0-7e36-4ff7-bd9d-1260f3d4b15f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'cbe6e1d0-7e36-4ff7-bd9d-1260f3d4b15f',"}}
[info] >        'original-request': 'req_QIb0FfmxvVuCgo', {"user":"      'original-request': 'req_QIb0FfmxvVuCgo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_QIb0FfmxvVuCgo',"}}
[info] >        'request-id': 'req_QIb0FfmxvVuCgo', {"user":"      'request-id': 'req_QIb0FfmxvVuCgo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_QIb0FfmxvVuCgo',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_QIb0FfmxvVuCgo' {"user":"    requestId: 'req_QIb0FfmxvVuCgo'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_QIb0FfmxvVuCgo'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:01:29 GMT', {"user":"    date: 'Sun, 07 May 2023 00:01:29 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:01:29 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'cbe6e1d0-7e36-4ff7-bd9d-1260f3d4b15f', {"user":"    'idempotency-key': 'cbe6e1d0-7e36-4ff7-bd9d-1260f3d4b15f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'cbe6e1d0-7e36-4ff7-bd9d-1260f3d4b15f',"}}
[info] >      'original-request': 'req_QIb0FfmxvVuCgo', {"user":"    'original-request': 'req_QIb0FfmxvVuCgo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_QIb0FfmxvVuCgo',"}}
[info] >      'request-id': 'req_QIb0FfmxvVuCgo', {"user":"    'request-id': 'req_QIb0FfmxvVuCgo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_QIb0FfmxvVuCgo',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_QIb0FfmxvVuCgo', {"user":"  requestId: 'req_QIb0FfmxvVuCgo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_QIb0FfmxvVuCgo',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:01:29.117Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:01:29.117Z] [worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: exited"}}
[debug] [2023-05-07T00:01:29.117Z] [worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3304509f-ed7a-4a94-b0fe-d5690407892e]: FINISHED"}}
[debug] [2023-05-07T00:02:46.271Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:46.271Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:02:46.271Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:46.271Z"],"workRunningCount":1}
[debug] [2023-05-07T00:02:46.272Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:02:46.280Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:02:46.280Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:02:46.280Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:02:46.289Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:02:46.290Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:02:47.170Z] [runtime-status] [41596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:02:47.172Z] [runtime-status] [41596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:47.174Z] [runtime-status] [41596] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:02:47.175Z] [runtime-status] [41596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:47.468Z] [runtime-status] [41596] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:02:47.469Z] [runtime-status] [41596] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:02:47.469Z] [runtime-status] [41596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:47.471Z] [runtime-status] [41596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:02:47.473Z] [runtime-status] [41596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:47.473Z] [runtime-status] [41596] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:02:47.628Z] [runtime-status] [41596] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:02:47.630Z] [runtime-status] [41596] Listening to port: /tmp/fire_emu_3e1159205270d51a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41596] Listening to port: /tmp/fire_emu_3e1159205270d51a.sock"}}
[debug] [2023-05-07T00:02:47.716Z] [worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: IDLE"}}
[debug] [2023-05-07T00:02:47.716Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:02:47.717Z] [worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_FKDqeYtHCAFSCg?t=1683417768', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_FKDqeYtHCAFSCg?t=1683417768',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_FKDqeYtHCAFSCg?t=1683417768',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:02:48 GMT', {"user":"      date: 'Sun, 07 May 2023 00:02:48 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:02:48 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '88abea79-5e8d-4415-b0f0-a89ea75c65ff', {"user":"      'idempotency-key': '88abea79-5e8d-4415-b0f0-a89ea75c65ff',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '88abea79-5e8d-4415-b0f0-a89ea75c65ff',"}}
[info] >        'original-request': 'req_FKDqeYtHCAFSCg', {"user":"      'original-request': 'req_FKDqeYtHCAFSCg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_FKDqeYtHCAFSCg',"}}
[info] >        'request-id': 'req_FKDqeYtHCAFSCg', {"user":"      'request-id': 'req_FKDqeYtHCAFSCg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_FKDqeYtHCAFSCg',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_FKDqeYtHCAFSCg' {"user":"    requestId: 'req_FKDqeYtHCAFSCg'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_FKDqeYtHCAFSCg'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:02:48 GMT', {"user":"    date: 'Sun, 07 May 2023 00:02:48 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:02:48 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '88abea79-5e8d-4415-b0f0-a89ea75c65ff', {"user":"    'idempotency-key': '88abea79-5e8d-4415-b0f0-a89ea75c65ff',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '88abea79-5e8d-4415-b0f0-a89ea75c65ff',"}}
[info] >      'original-request': 'req_FKDqeYtHCAFSCg', {"user":"    'original-request': 'req_FKDqeYtHCAFSCg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_FKDqeYtHCAFSCg',"}}
[info] >      'request-id': 'req_FKDqeYtHCAFSCg', {"user":"    'request-id': 'req_FKDqeYtHCAFSCg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_FKDqeYtHCAFSCg',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_FKDqeYtHCAFSCg', {"user":"  requestId: 'req_FKDqeYtHCAFSCg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_FKDqeYtHCAFSCg',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:02:48.390Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:02:48.391Z] [worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: exited"}}
[debug] [2023-05-07T00:02:48.391Z] [worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bf802e90-903c-4df3-8006-c54438b41770]: FINISHED"}}
[debug] [2023-05-07T00:02:58.273Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:58.273Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:02:58.273Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:58.273Z"],"workRunningCount":1}
[debug] [2023-05-07T00:02:58.273Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:02:58.277Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:02:58.277Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:02:58.277Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:02:58.288Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:02:58.289Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:02:58.293Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:58.293Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:58.273Z"],"workRunningCount":1}
[debug] [2023-05-07T00:02:58.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:58.273Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:58.293Z"],"workRunningCount":2}
[debug] [2023-05-07T00:02:58.293Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:02:58.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:02:58.299Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:02:58.310Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:02:58.311Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:02:59.219Z] [runtime-status] [41728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:02:59.220Z] [runtime-status] [41722] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:02:59.222Z] [runtime-status] [41722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.223Z] [runtime-status] [41722] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:02:59.224Z] [runtime-status] [41728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.224Z] [runtime-status] [41728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:02:59.224Z] [runtime-status] [41728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.225Z] [runtime-status] [41722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.415Z] [runtime-status] [41722] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:02:59.416Z] [runtime-status] [41722] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:02:59.417Z] [runtime-status] [41722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.418Z] [runtime-status] [41722] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:02:59.422Z] [runtime-status] [41722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.423Z] [runtime-status] [41722] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:02:59.449Z] [runtime-status] [41728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:02:59.449Z] [runtime-status] [41728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:02:59.451Z] [runtime-status] [41728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.452Z] [runtime-status] [41728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:02:59.454Z] [runtime-status] [41728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:02:59.454Z] [runtime-status] [41728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:02:59.559Z] [runtime-status] [41722] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:02:59.560Z] [runtime-status] [41722] Listening to port: /tmp/fire_emu_14e20a85d9618b8a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41722] Listening to port: /tmp/fire_emu_14e20a85d9618b8a.sock"}}
[debug] [2023-05-07T00:02:59.579Z] [runtime-status] [41728] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:02:59.580Z] [runtime-status] [41728] Listening to port: /tmp/fire_emu_85d850332688a5c2.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41728] Listening to port: /tmp/fire_emu_85d850332688a5c2.sock"}}
[debug] [2023-05-07T00:02:59.607Z] [worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: IDLE"}}
[debug] [2023-05-07T00:02:59.607Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:02:59.608Z] [worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:02:59.626Z] [worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: IDLE"}}
[debug] [2023-05-07T00:02:59.626Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:02:59.627Z] [worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_3zRN1AYhYSvIKA?t=1683417779', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_3zRN1AYhYSvIKA?t=1683417779',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_3zRN1AYhYSvIKA?t=1683417779',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:00 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:00 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'b7989c26-3409-4fcc-8080-bd9ec08e09e5', {"user":"      'idempotency-key': 'b7989c26-3409-4fcc-8080-bd9ec08e09e5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'b7989c26-3409-4fcc-8080-bd9ec08e09e5',"}}
[info] >        'original-request': 'req_3zRN1AYhYSvIKA', {"user":"      'original-request': 'req_3zRN1AYhYSvIKA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_3zRN1AYhYSvIKA',"}}
[info] >        'request-id': 'req_3zRN1AYhYSvIKA', {"user":"      'request-id': 'req_3zRN1AYhYSvIKA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_3zRN1AYhYSvIKA',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_3zRN1AYhYSvIKA' {"user":"    requestId: 'req_3zRN1AYhYSvIKA'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_3zRN1AYhYSvIKA'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:00 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:00 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'b7989c26-3409-4fcc-8080-bd9ec08e09e5', {"user":"    'idempotency-key': 'b7989c26-3409-4fcc-8080-bd9ec08e09e5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'b7989c26-3409-4fcc-8080-bd9ec08e09e5',"}}
[info] >      'original-request': 'req_3zRN1AYhYSvIKA', {"user":"    'original-request': 'req_3zRN1AYhYSvIKA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_3zRN1AYhYSvIKA',"}}
[info] >      'request-id': 'req_3zRN1AYhYSvIKA', {"user":"    'request-id': 'req_3zRN1AYhYSvIKA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_3zRN1AYhYSvIKA',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_3zRN1AYhYSvIKA', {"user":"  requestId: 'req_3zRN1AYhYSvIKA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_3zRN1AYhYSvIKA',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_9QByRlknBFElpm?t=1683417779', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_9QByRlknBFElpm?t=1683417779',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_9QByRlknBFElpm?t=1683417779',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:00 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:00 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'c71d5774-3186-457f-8b9a-930ef80b4f2c', {"user":"      'idempotency-key': 'c71d5774-3186-457f-8b9a-930ef80b4f2c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c71d5774-3186-457f-8b9a-930ef80b4f2c',"}}
[info] >        'original-request': 'req_9QByRlknBFElpm', {"user":"      'original-request': 'req_9QByRlknBFElpm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_9QByRlknBFElpm',"}}
[info] >        'request-id': 'req_9QByRlknBFElpm', {"user":"      'request-id': 'req_9QByRlknBFElpm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_9QByRlknBFElpm',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_9QByRlknBFElpm' {"user":"    requestId: 'req_9QByRlknBFElpm'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_9QByRlknBFElpm'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:00 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:00 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'c71d5774-3186-457f-8b9a-930ef80b4f2c', {"user":"    'idempotency-key': 'c71d5774-3186-457f-8b9a-930ef80b4f2c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c71d5774-3186-457f-8b9a-930ef80b4f2c',"}}
[info] >      'original-request': 'req_9QByRlknBFElpm', {"user":"    'original-request': 'req_9QByRlknBFElpm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_9QByRlknBFElpm',"}}
[info] >      'request-id': 'req_9QByRlknBFElpm', {"user":"    'request-id': 'req_9QByRlknBFElpm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_9QByRlknBFElpm',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_9QByRlknBFElpm', {"user":"  requestId: 'req_9QByRlknBFElpm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_9QByRlknBFElpm',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:00.216Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:02:58.293Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:00.219Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:00.219Z] [worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: exited"}}
[debug] [2023-05-07T00:03:00.219Z] [worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fed6f8dd-7bfa-4219-9338-35af97247c1a]: FINISHED"}}
[debug] [2023-05-07T00:03:00.220Z] [worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: exited"}}
[debug] [2023-05-07T00:03:00.220Z] [worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5cf480a1-63bd-4d17-bded-dd8f00385484]: FINISHED"}}
[debug] [2023-05-07T00:03:01.270Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:01.270Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:01.270Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:01.270Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:01.270Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:01.273Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:01.273Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:01.274Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-05-07T00:03:01.285Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:01.285Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:03:01.288Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:01.288Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:01.270Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:01.288Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:01.270Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:01.288Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:01.288Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:01.292Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:01.292Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:01.302Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:01.302Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:03:02.202Z] [runtime-status] [41778] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:02.204Z] [runtime-status] [41778] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.205Z] [runtime-status] [41778] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:02.205Z] [runtime-status] [41778] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.233Z] [runtime-status] [41784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:02.234Z] [runtime-status] [41784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.235Z] [runtime-status] [41784] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:02.236Z] [runtime-status] [41784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.394Z] [runtime-status] [41778] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:02.395Z] [runtime-status] [41778] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:02.395Z] [runtime-status] [41778] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.396Z] [runtime-status] [41778] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:02.401Z] [runtime-status] [41778] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.401Z] [runtime-status] [41778] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:02.409Z] [runtime-status] [41784] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:02.410Z] [runtime-status] [41784] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:02.410Z] [runtime-status] [41784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.412Z] [runtime-status] [41784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:02.413Z] [runtime-status] [41784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:02.413Z] [runtime-status] [41784] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:02.497Z] [runtime-status] [41778] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:02.497Z] [runtime-status] [41778] Listening to port: /tmp/fire_emu_76c9fa411542e526.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41778] Listening to port: /tmp/fire_emu_76c9fa411542e526.sock"}}
[debug] [2023-05-07T00:03:02.510Z] [runtime-status] [41784] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:02.510Z] [runtime-status] [41784] Listening to port: /tmp/fire_emu_008f6d7f55c476e2.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41784] Listening to port: /tmp/fire_emu_008f6d7f55c476e2.sock"}}
[debug] [2023-05-07T00:03:02.517Z] [worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: IDLE"}}
[debug] [2023-05-07T00:03:02.517Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:02.518Z] [worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:03:02.603Z] [worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: IDLE"}}
[debug] [2023-05-07T00:03:02.603Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:02.604Z] [worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_zTQBjdDc7EtM6m?t=1683417782', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_zTQBjdDc7EtM6m?t=1683417782',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_zTQBjdDc7EtM6m?t=1683417782',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:03 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'b060e1a6-31f2-4382-82f4-e8047cdd84d3', {"user":"      'idempotency-key': 'b060e1a6-31f2-4382-82f4-e8047cdd84d3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'b060e1a6-31f2-4382-82f4-e8047cdd84d3',"}}
[info] >        'original-request': 'req_zTQBjdDc7EtM6m', {"user":"      'original-request': 'req_zTQBjdDc7EtM6m',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_zTQBjdDc7EtM6m',"}}
[info] >        'request-id': 'req_zTQBjdDc7EtM6m', {"user":"      'request-id': 'req_zTQBjdDc7EtM6m',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_zTQBjdDc7EtM6m',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_zTQBjdDc7EtM6m' {"user":"    requestId: 'req_zTQBjdDc7EtM6m'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_zTQBjdDc7EtM6m'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:03 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'b060e1a6-31f2-4382-82f4-e8047cdd84d3', {"user":"    'idempotency-key': 'b060e1a6-31f2-4382-82f4-e8047cdd84d3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'b060e1a6-31f2-4382-82f4-e8047cdd84d3',"}}
[info] >      'original-request': 'req_zTQBjdDc7EtM6m', {"user":"    'original-request': 'req_zTQBjdDc7EtM6m',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_zTQBjdDc7EtM6m',"}}
[info] >      'request-id': 'req_zTQBjdDc7EtM6m', {"user":"    'request-id': 'req_zTQBjdDc7EtM6m',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_zTQBjdDc7EtM6m',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_zTQBjdDc7EtM6m', {"user":"  requestId: 'req_zTQBjdDc7EtM6m',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_zTQBjdDc7EtM6m',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:03.153Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:01.270Z"],"workRunningCount":1}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_04VW1zbPYt5ghj?t=1683417782', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_04VW1zbPYt5ghj?t=1683417782',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_04VW1zbPYt5ghj?t=1683417782',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:03 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'af8daada-5c8b-484c-9f2d-10585a5208ba', {"user":"      'idempotency-key': 'af8daada-5c8b-484c-9f2d-10585a5208ba',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'af8daada-5c8b-484c-9f2d-10585a5208ba',"}}
[info] >        'original-request': 'req_04VW1zbPYt5ghj', {"user":"      'original-request': 'req_04VW1zbPYt5ghj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_04VW1zbPYt5ghj',"}}
[info] >        'request-id': 'req_04VW1zbPYt5ghj', {"user":"      'request-id': 'req_04VW1zbPYt5ghj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_04VW1zbPYt5ghj',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_04VW1zbPYt5ghj' {"user":"    requestId: 'req_04VW1zbPYt5ghj'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_04VW1zbPYt5ghj'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:03 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'af8daada-5c8b-484c-9f2d-10585a5208ba', {"user":"    'idempotency-key': 'af8daada-5c8b-484c-9f2d-10585a5208ba',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'af8daada-5c8b-484c-9f2d-10585a5208ba',"}}
[info] >      'original-request': 'req_04VW1zbPYt5ghj', {"user":"    'original-request': 'req_04VW1zbPYt5ghj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_04VW1zbPYt5ghj',"}}
[info] >      'request-id': 'req_04VW1zbPYt5ghj', {"user":"    'request-id': 'req_04VW1zbPYt5ghj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_04VW1zbPYt5ghj',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_04VW1zbPYt5ghj', {"user":"  requestId: 'req_04VW1zbPYt5ghj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_04VW1zbPYt5ghj',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[debug] [2023-05-07T00:03:03.175Z] [worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: exited"}}
[debug] [2023-05-07T00:03:03.175Z] [worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f38734ae-1790-43d4-a8e8-496190deb875]: FINISHED"}}
[debug] [2023-05-07T00:03:03.176Z] [worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: exited"}}
[debug] [2023-05-07T00:03:03.176Z] [worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-051fa98c-636e-48e8-bca1-af60f875b0b2]: FINISHED"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:03.178Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:03.266Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:03.266Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:03.266Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:03.266Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:03.267Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:03.271Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:03.271Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:03.271Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-05-07T00:03:03.283Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:03.283Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:03:04.352Z] [runtime-status] [41824] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:04.355Z] [runtime-status] [41824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:04.358Z] [runtime-status] [41824] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:04.358Z] [runtime-status] [41824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:04.571Z] [runtime-status] [41824] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:04.572Z] [runtime-status] [41824] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:04.573Z] [runtime-status] [41824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:04.574Z] [runtime-status] [41824] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:04.576Z] [runtime-status] [41824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:04.576Z] [runtime-status] [41824] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:04.691Z] [runtime-status] [41824] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:04.691Z] [runtime-status] [41824] Listening to port: /tmp/fire_emu_11565a8e5249b3b5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41824] Listening to port: /tmp/fire_emu_11565a8e5249b3b5.sock"}}
[debug] [2023-05-07T00:03:04.698Z] [worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: IDLE"}}
[debug] [2023-05-07T00:03:04.699Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:04.699Z] [worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:03:05.265Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:05.265Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:03.266Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:05.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:03.266Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:05.265Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:05.265Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:05.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:05.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:05.281Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:05.281Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_JrHXtoHpFZCEhw?t=1683417785', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_JrHXtoHpFZCEhw?t=1683417785',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_JrHXtoHpFZCEhw?t=1683417785',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:05 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:05 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'd01988b2-5949-4b3e-9fd0-32463a4d395f', {"user":"      'idempotency-key': 'd01988b2-5949-4b3e-9fd0-32463a4d395f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'd01988b2-5949-4b3e-9fd0-32463a4d395f',"}}
[info] >        'original-request': 'req_JrHXtoHpFZCEhw', {"user":"      'original-request': 'req_JrHXtoHpFZCEhw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_JrHXtoHpFZCEhw',"}}
[info] >        'request-id': 'req_JrHXtoHpFZCEhw', {"user":"      'request-id': 'req_JrHXtoHpFZCEhw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_JrHXtoHpFZCEhw',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_JrHXtoHpFZCEhw' {"user":"    requestId: 'req_JrHXtoHpFZCEhw'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_JrHXtoHpFZCEhw'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:05 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:05 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'd01988b2-5949-4b3e-9fd0-32463a4d395f', {"user":"    'idempotency-key': 'd01988b2-5949-4b3e-9fd0-32463a4d395f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'd01988b2-5949-4b3e-9fd0-32463a4d395f',"}}
[info] >      'original-request': 'req_JrHXtoHpFZCEhw', {"user":"    'original-request': 'req_JrHXtoHpFZCEhw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_JrHXtoHpFZCEhw',"}}
[info] >      'request-id': 'req_JrHXtoHpFZCEhw', {"user":"    'request-id': 'req_JrHXtoHpFZCEhw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_JrHXtoHpFZCEhw',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_JrHXtoHpFZCEhw', {"user":"  requestId: 'req_JrHXtoHpFZCEhw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_JrHXtoHpFZCEhw',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:05.316Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:05.265Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:05.316Z] [worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: exited"}}
[debug] [2023-05-07T00:03:05.316Z] [worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4388baa4-52e8-4211-9bb7-905771ff6dcd]: FINISHED"}}
[debug] [2023-05-07T00:03:06.163Z] [runtime-status] [41838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:06.164Z] [runtime-status] [41838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:06.165Z] [runtime-status] [41838] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:06.166Z] [runtime-status] [41838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:06.370Z] [runtime-status] [41838] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:06.370Z] [runtime-status] [41838] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:06.372Z] [runtime-status] [41838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:06.374Z] [runtime-status] [41838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:06.376Z] [runtime-status] [41838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:06.376Z] [runtime-status] [41838] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:06.503Z] [runtime-status] [41838] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:06.503Z] [runtime-status] [41838] Listening to port: /tmp/fire_emu_e1dd60c932c51484.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41838] Listening to port: /tmp/fire_emu_e1dd60c932c51484.sock"}}
[debug] [2023-05-07T00:03:06.599Z] [worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: IDLE"}}
[debug] [2023-05-07T00:03:06.599Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-05-07T00:03:06.600Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:06.600Z] [worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_bSzYLKinFublDw?t=1683417786', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_bSzYLKinFublDw?t=1683417786',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_bSzYLKinFublDw?t=1683417786',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:07 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:07 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '1ad62829-4741-42fe-bdca-378644b53d66', {"user":"      'idempotency-key': '1ad62829-4741-42fe-bdca-378644b53d66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '1ad62829-4741-42fe-bdca-378644b53d66',"}}
[info] >        'original-request': 'req_bSzYLKinFublDw', {"user":"      'original-request': 'req_bSzYLKinFublDw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_bSzYLKinFublDw',"}}
[info] >        'request-id': 'req_bSzYLKinFublDw', {"user":"      'request-id': 'req_bSzYLKinFublDw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_bSzYLKinFublDw',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_bSzYLKinFublDw' {"user":"    requestId: 'req_bSzYLKinFublDw'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_bSzYLKinFublDw'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:07 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:07 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '1ad62829-4741-42fe-bdca-378644b53d66', {"user":"    'idempotency-key': '1ad62829-4741-42fe-bdca-378644b53d66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '1ad62829-4741-42fe-bdca-378644b53d66',"}}
[info] >      'original-request': 'req_bSzYLKinFublDw', {"user":"    'original-request': 'req_bSzYLKinFublDw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_bSzYLKinFublDw',"}}
[info] >      'request-id': 'req_bSzYLKinFublDw', {"user":"    'request-id': 'req_bSzYLKinFublDw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_bSzYLKinFublDw',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_bSzYLKinFublDw', {"user":"  requestId: 'req_bSzYLKinFublDw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_bSzYLKinFublDw',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:07.157Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:07.158Z] [worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: exited"}}
[debug] [2023-05-07T00:03:07.158Z] [worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-44d1eb21-3b23-49ce-b09f-aa6a1fc3aac1]: FINISHED"}}
[debug] [2023-05-07T00:03:07.264Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:07.264Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:07.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:07.264Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:07.264Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:07.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:07.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:07.270Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:03:07.280Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:07.281Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:03:08.221Z] [runtime-status] [41896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:08.223Z] [runtime-status] [41896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:08.224Z] [runtime-status] [41896] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:08.224Z] [runtime-status] [41896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:08.265Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:08.265Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:07.264Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:08.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:07.264Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:08.265Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:08.266Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:08.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:08.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:08.283Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:08.283Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:03:08.386Z] [runtime-status] [41896] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:08.387Z] [runtime-status] [41896] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:08.388Z] [runtime-status] [41896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:08.390Z] [runtime-status] [41896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:08.391Z] [runtime-status] [41896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:08.392Z] [runtime-status] [41896] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:08.491Z] [runtime-status] [41896] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:08.492Z] [runtime-status] [41896] Listening to port: /tmp/fire_emu_6577ae17f5ee3ac3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41896] Listening to port: /tmp/fire_emu_6577ae17f5ee3ac3.sock"}}
[debug] [2023-05-07T00:03:08.597Z] [worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: IDLE"}}
[debug] [2023-05-07T00:03:08.598Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:08.598Z] [worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_uXymwyGx3jtTt1?t=1683417789', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_uXymwyGx3jtTt1?t=1683417789',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_uXymwyGx3jtTt1?t=1683417789',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:09 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:09 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:09 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '1aed71b6-7a04-4181-b531-f3f6d6124484', {"user":"      'idempotency-key': '1aed71b6-7a04-4181-b531-f3f6d6124484',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '1aed71b6-7a04-4181-b531-f3f6d6124484',"}}
[info] >        'original-request': 'req_uXymwyGx3jtTt1', {"user":"      'original-request': 'req_uXymwyGx3jtTt1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_uXymwyGx3jtTt1',"}}
[info] >        'request-id': 'req_uXymwyGx3jtTt1', {"user":"      'request-id': 'req_uXymwyGx3jtTt1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_uXymwyGx3jtTt1',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_uXymwyGx3jtTt1' {"user":"    requestId: 'req_uXymwyGx3jtTt1'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_uXymwyGx3jtTt1'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:09 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:09 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:09 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '1aed71b6-7a04-4181-b531-f3f6d6124484', {"user":"    'idempotency-key': '1aed71b6-7a04-4181-b531-f3f6d6124484',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '1aed71b6-7a04-4181-b531-f3f6d6124484',"}}
[info] >      'original-request': 'req_uXymwyGx3jtTt1', {"user":"    'original-request': 'req_uXymwyGx3jtTt1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_uXymwyGx3jtTt1',"}}
[info] >      'request-id': 'req_uXymwyGx3jtTt1', {"user":"    'request-id': 'req_uXymwyGx3jtTt1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_uXymwyGx3jtTt1',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_uXymwyGx3jtTt1', {"user":"  requestId: 'req_uXymwyGx3jtTt1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_uXymwyGx3jtTt1',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:09.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:08.265Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:09.259Z] [worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: exited"}}
[debug] [2023-05-07T00:03:09.259Z] [worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0619ebd4-0b81-444e-a218-5a951dba5370]: FINISHED"}}
[debug] [2023-05-07T00:03:09.266Z] [runtime-status] [41904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:09.268Z] [runtime-status] [41904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:09.269Z] [runtime-status] [41904] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:09.269Z] [runtime-status] [41904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:09.453Z] [runtime-status] [41904] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:09.453Z] [runtime-status] [41904] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:09.455Z] [runtime-status] [41904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:09.456Z] [runtime-status] [41904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:09.459Z] [runtime-status] [41904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:09.460Z] [runtime-status] [41904] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:09.618Z] [runtime-status] [41904] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:09.619Z] [runtime-status] [41904] Listening to port: /tmp/fire_emu_d2619212afce0031.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41904] Listening to port: /tmp/fire_emu_d2619212afce0031.sock"}}
[debug] [2023-05-07T00:03:09.702Z] [worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: IDLE"}}
[debug] [2023-05-07T00:03:09.702Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-05-07T00:03:09.702Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:09.703Z] [worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:03:10.263Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:10.263Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:08.265Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:10.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:08.265Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:10.263Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:10.264Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:10.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:10.269Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:10.282Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:10.282Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_8y1in9S4cB4P0f?t=1683417790', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_8y1in9S4cB4P0f?t=1683417790',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_8y1in9S4cB4P0f?t=1683417790',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:10 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:10 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:10 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '2781ad31-3a83-4361-adfd-e2e0125d520d', {"user":"      'idempotency-key': '2781ad31-3a83-4361-adfd-e2e0125d520d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '2781ad31-3a83-4361-adfd-e2e0125d520d',"}}
[info] >        'original-request': 'req_8y1in9S4cB4P0f', {"user":"      'original-request': 'req_8y1in9S4cB4P0f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_8y1in9S4cB4P0f',"}}
[info] >        'request-id': 'req_8y1in9S4cB4P0f', {"user":"      'request-id': 'req_8y1in9S4cB4P0f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_8y1in9S4cB4P0f',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_8y1in9S4cB4P0f' {"user":"    requestId: 'req_8y1in9S4cB4P0f'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_8y1in9S4cB4P0f'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:10 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:10 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:10 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '2781ad31-3a83-4361-adfd-e2e0125d520d', {"user":"    'idempotency-key': '2781ad31-3a83-4361-adfd-e2e0125d520d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '2781ad31-3a83-4361-adfd-e2e0125d520d',"}}
[info] >      'original-request': 'req_8y1in9S4cB4P0f', {"user":"    'original-request': 'req_8y1in9S4cB4P0f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_8y1in9S4cB4P0f',"}}
[info] >      'request-id': 'req_8y1in9S4cB4P0f', {"user":"    'request-id': 'req_8y1in9S4cB4P0f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_8y1in9S4cB4P0f',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_8y1in9S4cB4P0f', {"user":"  requestId: 'req_8y1in9S4cB4P0f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_8y1in9S4cB4P0f',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:10.307Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:10.263Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:10.307Z] [worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: exited"}}
[debug] [2023-05-07T00:03:10.307Z] [worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dbfc7747-00d8-4f6a-b1bb-da572b246f0b]: FINISHED"}}
[debug] [2023-05-07T00:03:11.264Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:11.264Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:10.263Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:11.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:10.263Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:11.264Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:11.265Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:11.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:11.269Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:11.270Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2023-05-07T00:03:11.281Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:11.281Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:03:11.285Z] [runtime-status] [41925] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:11.287Z] [runtime-status] [41925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:11.288Z] [runtime-status] [41925] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:11.289Z] [runtime-status] [41925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:11.445Z] [runtime-status] [41925] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:11.445Z] [runtime-status] [41925] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:11.447Z] [runtime-status] [41925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:11.448Z] [runtime-status] [41925] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:11.450Z] [runtime-status] [41925] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:11.451Z] [runtime-status] [41925] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:11.547Z] [runtime-status] [41925] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:11.548Z] [runtime-status] [41925] Listening to port: /tmp/fire_emu_f1e582dc5a852c01.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41925] Listening to port: /tmp/fire_emu_f1e582dc5a852c01.sock"}}
[debug] [2023-05-07T00:03:11.597Z] [worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: IDLE"}}
[debug] [2023-05-07T00:03:11.597Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:11.598Z] [worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:03:12.075Z] [runtime-status] [41957] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:12.077Z] [runtime-status] [41957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:12.078Z] [runtime-status] [41957] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:12.079Z] [runtime-status] [41957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_k6o76SIJQCVpVH?t=1683417792', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_k6o76SIJQCVpVH?t=1683417792',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_k6o76SIJQCVpVH?t=1683417792',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:12 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:12 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:12 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'a98c33c2-5d68-471c-9a5e-55c7ceed13b6', {"user":"      'idempotency-key': 'a98c33c2-5d68-471c-9a5e-55c7ceed13b6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'a98c33c2-5d68-471c-9a5e-55c7ceed13b6',"}}
[info] >        'original-request': 'req_k6o76SIJQCVpVH', {"user":"      'original-request': 'req_k6o76SIJQCVpVH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_k6o76SIJQCVpVH',"}}
[info] >        'request-id': 'req_k6o76SIJQCVpVH', {"user":"      'request-id': 'req_k6o76SIJQCVpVH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_k6o76SIJQCVpVH',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_k6o76SIJQCVpVH' {"user":"    requestId: 'req_k6o76SIJQCVpVH'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_k6o76SIJQCVpVH'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:12 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:12 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:12 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'a98c33c2-5d68-471c-9a5e-55c7ceed13b6', {"user":"    'idempotency-key': 'a98c33c2-5d68-471c-9a5e-55c7ceed13b6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'a98c33c2-5d68-471c-9a5e-55c7ceed13b6',"}}
[info] >      'original-request': 'req_k6o76SIJQCVpVH', {"user":"    'original-request': 'req_k6o76SIJQCVpVH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_k6o76SIJQCVpVH',"}}
[info] >      'request-id': 'req_k6o76SIJQCVpVH', {"user":"    'request-id': 'req_k6o76SIJQCVpVH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_k6o76SIJQCVpVH',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_k6o76SIJQCVpVH', {"user":"  requestId: 'req_k6o76SIJQCVpVH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_k6o76SIJQCVpVH',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:12.208Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:11.264Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:12.208Z] [worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: exited"}}
[debug] [2023-05-07T00:03:12.209Z] [worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28d50116-7e62-4f32-b7f2-3f5fc22c0e95]: FINISHED"}}
[debug] [2023-05-07T00:03:12.248Z] [runtime-status] [41957] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:12.249Z] [runtime-status] [41957] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:12.250Z] [runtime-status] [41957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:12.251Z] [runtime-status] [41957] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:12.252Z] [runtime-status] [41957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:12.253Z] [runtime-status] [41957] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:12.350Z] [runtime-status] [41957] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:12.350Z] [runtime-status] [41957] Listening to port: /tmp/fire_emu_1d7bdb1cfe6c2f6f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41957] Listening to port: /tmp/fire_emu_1d7bdb1cfe6c2f6f.sock"}}
[debug] [2023-05-07T00:03:12.417Z] [worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: IDLE"}}
[debug] [2023-05-07T00:03:12.417Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-05-07T00:03:12.417Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:12.418Z] [worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Nlz0BtavB7DWPZ?t=1683417792', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Nlz0BtavB7DWPZ?t=1683417792',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Nlz0BtavB7DWPZ?t=1683417792',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:12 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:12 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:12 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '5bf7e974-bcfd-42ba-b8fb-104295945ac3', {"user":"      'idempotency-key': '5bf7e974-bcfd-42ba-b8fb-104295945ac3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '5bf7e974-bcfd-42ba-b8fb-104295945ac3',"}}
[info] >        'original-request': 'req_Nlz0BtavB7DWPZ', {"user":"      'original-request': 'req_Nlz0BtavB7DWPZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Nlz0BtavB7DWPZ',"}}
[info] >        'request-id': 'req_Nlz0BtavB7DWPZ', {"user":"      'request-id': 'req_Nlz0BtavB7DWPZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Nlz0BtavB7DWPZ',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_Nlz0BtavB7DWPZ' {"user":"    requestId: 'req_Nlz0BtavB7DWPZ'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Nlz0BtavB7DWPZ'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:12 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:12 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:12 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '5bf7e974-bcfd-42ba-b8fb-104295945ac3', {"user":"    'idempotency-key': '5bf7e974-bcfd-42ba-b8fb-104295945ac3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '5bf7e974-bcfd-42ba-b8fb-104295945ac3',"}}
[info] >      'original-request': 'req_Nlz0BtavB7DWPZ', {"user":"    'original-request': 'req_Nlz0BtavB7DWPZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Nlz0BtavB7DWPZ',"}}
[info] >      'request-id': 'req_Nlz0BtavB7DWPZ', {"user":"    'request-id': 'req_Nlz0BtavB7DWPZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Nlz0BtavB7DWPZ',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Nlz0BtavB7DWPZ', {"user":"  requestId: 'req_Nlz0BtavB7DWPZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Nlz0BtavB7DWPZ',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:13.030Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:13.030Z] [worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: exited"}}
[debug] [2023-05-07T00:03:13.031Z] [worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-93407b21-b2b2-4f7a-af28-061236c9ed5c]: FINISHED"}}
[debug] [2023-05-07T00:03:14.266Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:14.266Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:14.266Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:14.266Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:14.266Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:14.273Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:14.273Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:14.273Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:03:14.284Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:14.284Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:03:15.134Z] [runtime-status] [41999] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:15.135Z] [runtime-status] [41999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:15.136Z] [runtime-status] [41999] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:15.137Z] [runtime-status] [41999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:15.263Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:15.263Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:14.266Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:15.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:14.266Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:15.263Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:15.264Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:15.267Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:15.267Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:15.277Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:15.277Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:03:15.301Z] [runtime-status] [41999] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:15.302Z] [runtime-status] [41999] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:15.303Z] [runtime-status] [41999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:15.305Z] [runtime-status] [41999] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:15.306Z] [runtime-status] [41999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:15.307Z] [runtime-status] [41999] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:15.427Z] [runtime-status] [41999] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:15.428Z] [runtime-status] [41999] Listening to port: /tmp/fire_emu_200723fb0b575c25.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41999] Listening to port: /tmp/fire_emu_200723fb0b575c25.sock"}}
[debug] [2023-05-07T00:03:15.500Z] [worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: IDLE"}}
[debug] [2023-05-07T00:03:15.500Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:15.500Z] [worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_kkktR75iusAvy9?t=1683417795', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_kkktR75iusAvy9?t=1683417795',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_kkktR75iusAvy9?t=1683417795',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:16 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:16 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '90c22f0c-eca8-4a46-bad0-d01945fc0efc', {"user":"      'idempotency-key': '90c22f0c-eca8-4a46-bad0-d01945fc0efc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '90c22f0c-eca8-4a46-bad0-d01945fc0efc',"}}
[info] >        'original-request': 'req_kkktR75iusAvy9', {"user":"      'original-request': 'req_kkktR75iusAvy9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_kkktR75iusAvy9',"}}
[info] >        'request-id': 'req_kkktR75iusAvy9', {"user":"      'request-id': 'req_kkktR75iusAvy9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_kkktR75iusAvy9',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_kkktR75iusAvy9' {"user":"    requestId: 'req_kkktR75iusAvy9'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_kkktR75iusAvy9'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:16 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:16 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '90c22f0c-eca8-4a46-bad0-d01945fc0efc', {"user":"    'idempotency-key': '90c22f0c-eca8-4a46-bad0-d01945fc0efc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '90c22f0c-eca8-4a46-bad0-d01945fc0efc',"}}
[info] >      'original-request': 'req_kkktR75iusAvy9', {"user":"    'original-request': 'req_kkktR75iusAvy9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_kkktR75iusAvy9',"}}
[info] >      'request-id': 'req_kkktR75iusAvy9', {"user":"    'request-id': 'req_kkktR75iusAvy9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_kkktR75iusAvy9',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_kkktR75iusAvy9', {"user":"  requestId: 'req_kkktR75iusAvy9',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_kkktR75iusAvy9',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:16.102Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:15.263Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:16.102Z] [worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: exited"}}
[debug] [2023-05-07T00:03:16.102Z] [worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab9f3ddb-f345-4fd9-83d6-7278cabb9c74]: FINISHED"}}
[debug] [2023-05-07T00:03:16.265Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:16.265Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:15.263Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:16.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:15.263Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:16.265Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:16.265Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:16.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:16.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:16.270Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2023-05-07T00:03:16.279Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:16.279Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:03:16.316Z] [runtime-status] [42008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:16.319Z] [runtime-status] [42008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:16.319Z] [runtime-status] [42008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:16.319Z] [runtime-status] [42008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:16.492Z] [runtime-status] [42008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:16.492Z] [runtime-status] [42008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:16.494Z] [runtime-status] [42008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:16.495Z] [runtime-status] [42008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:16.496Z] [runtime-status] [42008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:16.497Z] [runtime-status] [42008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:16.616Z] [runtime-status] [42008] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:16.617Z] [runtime-status] [42008] Listening to port: /tmp/fire_emu_f2b77f381bd90b91.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42008] Listening to port: /tmp/fire_emu_f2b77f381bd90b91.sock"}}
[debug] [2023-05-07T00:03:16.715Z] [worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: IDLE"}}
[debug] [2023-05-07T00:03:16.716Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:16.716Z] [worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:03:17.263Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:17.263Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:15.263Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:16.265Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:17.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:15.263Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:16.265Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:17.263Z"],"workRunningCount":3}
[debug] [2023-05-07T00:03:17.264Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:17.268Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:17.268Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:17.279Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:17.279Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2023-05-07T00:03:17.292Z] [runtime-status] [42047] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:17.294Z] [runtime-status] [42047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:17.296Z] [runtime-status] [42047] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:17.297Z] [runtime-status] [42047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_k3r51lT4TGxH6K?t=1683417797', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_k3r51lT4TGxH6K?t=1683417797',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_k3r51lT4TGxH6K?t=1683417797',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:17 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:17 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:17 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'b4c61a21-1386-4dc7-b5d4-d9e645125798', {"user":"      'idempotency-key': 'b4c61a21-1386-4dc7-b5d4-d9e645125798',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'b4c61a21-1386-4dc7-b5d4-d9e645125798',"}}
[info] >        'original-request': 'req_k3r51lT4TGxH6K', {"user":"      'original-request': 'req_k3r51lT4TGxH6K',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_k3r51lT4TGxH6K',"}}
[info] >        'request-id': 'req_k3r51lT4TGxH6K', {"user":"      'request-id': 'req_k3r51lT4TGxH6K',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_k3r51lT4TGxH6K',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_k3r51lT4TGxH6K' {"user":"    requestId: 'req_k3r51lT4TGxH6K'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_k3r51lT4TGxH6K'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:17 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:17 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:17 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'b4c61a21-1386-4dc7-b5d4-d9e645125798', {"user":"    'idempotency-key': 'b4c61a21-1386-4dc7-b5d4-d9e645125798',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'b4c61a21-1386-4dc7-b5d4-d9e645125798',"}}
[info] >      'original-request': 'req_k3r51lT4TGxH6K', {"user":"    'original-request': 'req_k3r51lT4TGxH6K',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_k3r51lT4TGxH6K',"}}
[info] >      'request-id': 'req_k3r51lT4TGxH6K', {"user":"    'request-id': 'req_k3r51lT4TGxH6K',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_k3r51lT4TGxH6K',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_k3r51lT4TGxH6K', {"user":"  requestId: 'req_k3r51lT4TGxH6K',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_k3r51lT4TGxH6K',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:17.358Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:16.265Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:17.263Z"],"workRunningCount":2}
[debug] [2023-05-07T00:03:17.358Z] [worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: exited"}}
[debug] [2023-05-07T00:03:17.359Z] [worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d3332e97-2fb6-42be-810b-981089b29eb6]: FINISHED"}}
[debug] [2023-05-07T00:03:17.530Z] [runtime-status] [42047] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:17.531Z] [runtime-status] [42047] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:17.532Z] [runtime-status] [42047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:17.533Z] [runtime-status] [42047] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:17.535Z] [runtime-status] [42047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:17.535Z] [runtime-status] [42047] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:17.655Z] [runtime-status] [42047] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:17.656Z] [runtime-status] [42047] Listening to port: /tmp/fire_emu_813dfc07f6ffc300.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42047] Listening to port: /tmp/fire_emu_813dfc07f6ffc300.sock"}}
[debug] [2023-05-07T00:03:17.700Z] [worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: IDLE"}}
[debug] [2023-05-07T00:03:17.700Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-05-07T00:03:17.700Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:17.701Z] [worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[debug] [2023-05-07T00:03:18.245Z] [runtime-status] [42078] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:18.246Z] [runtime-status] [42078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:18.247Z] [runtime-status] [42078] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:18.248Z] [runtime-status] [42078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_emIAa3y3VR5Km3?t=1683417798', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_emIAa3y3VR5Km3?t=1683417798',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_emIAa3y3VR5Km3?t=1683417798',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:18 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:18 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '72bdd86c-4f06-458c-b5f1-b1fc19ed777a', {"user":"      'idempotency-key': '72bdd86c-4f06-458c-b5f1-b1fc19ed777a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '72bdd86c-4f06-458c-b5f1-b1fc19ed777a',"}}
[info] >        'original-request': 'req_emIAa3y3VR5Km3', {"user":"      'original-request': 'req_emIAa3y3VR5Km3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_emIAa3y3VR5Km3',"}}
[info] >        'request-id': 'req_emIAa3y3VR5Km3', {"user":"      'request-id': 'req_emIAa3y3VR5Km3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_emIAa3y3VR5Km3',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_emIAa3y3VR5Km3' {"user":"    requestId: 'req_emIAa3y3VR5Km3'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_emIAa3y3VR5Km3'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:18 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:18 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '72bdd86c-4f06-458c-b5f1-b1fc19ed777a', {"user":"    'idempotency-key': '72bdd86c-4f06-458c-b5f1-b1fc19ed777a',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '72bdd86c-4f06-458c-b5f1-b1fc19ed777a',"}}
[info] >      'original-request': 'req_emIAa3y3VR5Km3', {"user":"    'original-request': 'req_emIAa3y3VR5Km3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_emIAa3y3VR5Km3',"}}
[info] >      'request-id': 'req_emIAa3y3VR5Km3', {"user":"    'request-id': 'req_emIAa3y3VR5Km3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_emIAa3y3VR5Km3',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_emIAa3y3VR5Km3', {"user":"  requestId: 'req_emIAa3y3VR5Km3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_emIAa3y3VR5Km3',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:18.356Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:17.263Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:18.356Z] [worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: exited"}}
[debug] [2023-05-07T00:03:18.357Z] [worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd038b24-05a8-4766-b8ce-28ebcbd30ff0]: FINISHED"}}
[debug] [2023-05-07T00:03:18.432Z] [runtime-status] [42078] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:18.432Z] [runtime-status] [42078] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:18.433Z] [runtime-status] [42078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:18.434Z] [runtime-status] [42078] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:18.436Z] [runtime-status] [42078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:18.436Z] [runtime-status] [42078] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:18.553Z] [runtime-status] [42078] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:18.554Z] [runtime-status] [42078] Listening to port: /tmp/fire_emu_dbd80a5788b9811c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42078] Listening to port: /tmp/fire_emu_dbd80a5788b9811c.sock"}}
[debug] [2023-05-07T00:03:18.598Z] [worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: IDLE"}}
[debug] [2023-05-07T00:03:18.598Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-05-07T00:03:18.598Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:18.598Z] [worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_ehzGUN01xU66YW?t=1683417798', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_ehzGUN01xU66YW?t=1683417798',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_ehzGUN01xU66YW?t=1683417798',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:19 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:19 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:19 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'eea3e9bb-b438-4d3a-880f-1caafe2a6911', {"user":"      'idempotency-key': 'eea3e9bb-b438-4d3a-880f-1caafe2a6911',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'eea3e9bb-b438-4d3a-880f-1caafe2a6911',"}}
[info] >        'original-request': 'req_ehzGUN01xU66YW', {"user":"      'original-request': 'req_ehzGUN01xU66YW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_ehzGUN01xU66YW',"}}
[info] >        'request-id': 'req_ehzGUN01xU66YW', {"user":"      'request-id': 'req_ehzGUN01xU66YW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ehzGUN01xU66YW',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_ehzGUN01xU66YW' {"user":"    requestId: 'req_ehzGUN01xU66YW'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ehzGUN01xU66YW'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:19 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:19 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:19 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'eea3e9bb-b438-4d3a-880f-1caafe2a6911', {"user":"    'idempotency-key': 'eea3e9bb-b438-4d3a-880f-1caafe2a6911',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'eea3e9bb-b438-4d3a-880f-1caafe2a6911',"}}
[info] >      'original-request': 'req_ehzGUN01xU66YW', {"user":"    'original-request': 'req_ehzGUN01xU66YW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_ehzGUN01xU66YW',"}}
[info] >      'request-id': 'req_ehzGUN01xU66YW', {"user":"    'request-id': 'req_ehzGUN01xU66YW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ehzGUN01xU66YW',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_ehzGUN01xU66YW', {"user":"  requestId: 'req_ehzGUN01xU66YW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ehzGUN01xU66YW',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:19.180Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:19.181Z] [worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: exited"}}
[debug] [2023-05-07T00:03:19.181Z] [worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6554c759-6f16-43b9-bfee-8f7b84158b08]: FINISHED"}}
[debug] [2023-05-07T00:03:24.264Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:24.264Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:24.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:24.264Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:24.264Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:24.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:24.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:24.270Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:03:24.282Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:24.282Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:03:25.395Z] [runtime-status] [42146] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:25.397Z] [runtime-status] [42146] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:25.398Z] [runtime-status] [42146] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:25.398Z] [runtime-status] [42146] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:25.567Z] [runtime-status] [42146] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:25.567Z] [runtime-status] [42146] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:25.568Z] [runtime-status] [42146] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:25.569Z] [runtime-status] [42146] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:25.571Z] [runtime-status] [42146] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:25.571Z] [runtime-status] [42146] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:25.696Z] [runtime-status] [42146] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:25.696Z] [runtime-status] [42146] Listening to port: /tmp/fire_emu_89cba948fbf2eeb3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42146] Listening to port: /tmp/fire_emu_89cba948fbf2eeb3.sock"}}
[debug] [2023-05-07T00:03:25.802Z] [worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: IDLE"}}
[debug] [2023-05-07T00:03:25.803Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:25.803Z] [worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_1GHALYLc4pwygE?t=1683417806', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_1GHALYLc4pwygE?t=1683417806',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_1GHALYLc4pwygE?t=1683417806',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:26 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:26 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '552d7e4f-79b4-48b2-ac53-a901c0018311', {"user":"      'idempotency-key': '552d7e4f-79b4-48b2-ac53-a901c0018311',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '552d7e4f-79b4-48b2-ac53-a901c0018311',"}}
[info] >        'original-request': 'req_1GHALYLc4pwygE', {"user":"      'original-request': 'req_1GHALYLc4pwygE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_1GHALYLc4pwygE',"}}
[info] >        'request-id': 'req_1GHALYLc4pwygE', {"user":"      'request-id': 'req_1GHALYLc4pwygE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_1GHALYLc4pwygE',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_1GHALYLc4pwygE' {"user":"    requestId: 'req_1GHALYLc4pwygE'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_1GHALYLc4pwygE'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:26 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:26 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '552d7e4f-79b4-48b2-ac53-a901c0018311', {"user":"    'idempotency-key': '552d7e4f-79b4-48b2-ac53-a901c0018311',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '552d7e4f-79b4-48b2-ac53-a901c0018311',"}}
[info] >      'original-request': 'req_1GHALYLc4pwygE', {"user":"    'original-request': 'req_1GHALYLc4pwygE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_1GHALYLc4pwygE',"}}
[info] >      'request-id': 'req_1GHALYLc4pwygE', {"user":"    'request-id': 'req_1GHALYLc4pwygE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_1GHALYLc4pwygE',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_1GHALYLc4pwygE', {"user":"  requestId: 'req_1GHALYLc4pwygE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_1GHALYLc4pwygE',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:26.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:26.397Z] [worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: exited"}}
[debug] [2023-05-07T00:03:26.397Z] [worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3260c6e7-9562-4b47-8698-918372757101]: FINISHED"}}
[debug] [2023-05-07T00:03:33.268Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:33.268Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:33.268Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:03:33.268Z"],"workRunningCount":1}
[debug] [2023-05-07T00:03:33.268Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:03:33.275Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:03:33.275Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:03:33.275Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:03:33.288Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:03:33.288Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:03:34.143Z] [runtime-status] [42252] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:34.145Z] [runtime-status] [42252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:34.146Z] [runtime-status] [42252] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:03:34.147Z] [runtime-status] [42252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:34.305Z] [runtime-status] [42252] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:03:34.305Z] [runtime-status] [42252] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:03:34.306Z] [runtime-status] [42252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:34.307Z] [runtime-status] [42252] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:03:34.308Z] [runtime-status] [42252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:03:34.309Z] [runtime-status] [42252] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:03:34.405Z] [runtime-status] [42252] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:03:34.405Z] [runtime-status] [42252] Listening to port: /tmp/fire_emu_06e28d37624f5b61.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42252] Listening to port: /tmp/fire_emu_06e28d37624f5b61.sock"}}
[debug] [2023-05-07T00:03:34.507Z] [worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: IDLE"}}
[debug] [2023-05-07T00:03:34.507Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:03:34.508Z] [worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_L4ibxqVWZHUWaU?t=1683417814', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_L4ibxqVWZHUWaU?t=1683417814',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_L4ibxqVWZHUWaU?t=1683417814',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:03:35 GMT', {"user":"      date: 'Sun, 07 May 2023 00:03:35 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:03:35 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '7ee4962f-28a0-4bb1-ae04-4be80d73426e', {"user":"      'idempotency-key': '7ee4962f-28a0-4bb1-ae04-4be80d73426e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '7ee4962f-28a0-4bb1-ae04-4be80d73426e',"}}
[info] >        'original-request': 'req_L4ibxqVWZHUWaU', {"user":"      'original-request': 'req_L4ibxqVWZHUWaU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_L4ibxqVWZHUWaU',"}}
[info] >        'request-id': 'req_L4ibxqVWZHUWaU', {"user":"      'request-id': 'req_L4ibxqVWZHUWaU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_L4ibxqVWZHUWaU',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_L4ibxqVWZHUWaU' {"user":"    requestId: 'req_L4ibxqVWZHUWaU'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_L4ibxqVWZHUWaU'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:03:35 GMT', {"user":"    date: 'Sun, 07 May 2023 00:03:35 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:03:35 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '7ee4962f-28a0-4bb1-ae04-4be80d73426e', {"user":"    'idempotency-key': '7ee4962f-28a0-4bb1-ae04-4be80d73426e',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '7ee4962f-28a0-4bb1-ae04-4be80d73426e',"}}
[info] >      'original-request': 'req_L4ibxqVWZHUWaU', {"user":"    'original-request': 'req_L4ibxqVWZHUWaU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_L4ibxqVWZHUWaU',"}}
[info] >      'request-id': 'req_L4ibxqVWZHUWaU', {"user":"    'request-id': 'req_L4ibxqVWZHUWaU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_L4ibxqVWZHUWaU',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_L4ibxqVWZHUWaU', {"user":"  requestId: 'req_L4ibxqVWZHUWaU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_L4ibxqVWZHUWaU',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:03:35.105Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:03:35.105Z] [worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: exited"}}
[debug] [2023-05-07T00:03:35.105Z] [worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac478a24-5688-4ba0-b2ad-6abdeb346c85]: FINISHED"}}
[debug] [2023-05-07T00:08:35.265Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:35.265Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:08:35.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:35.265Z"],"workRunningCount":1}
[debug] [2023-05-07T00:08:35.265Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:08:35.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:08:35.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:08:35.270Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:08:35.283Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:08:35.284Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:08:36.240Z] [runtime-status] [42664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:36.242Z] [runtime-status] [42664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:36.244Z] [runtime-status] [42664] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:08:36.245Z] [runtime-status] [42664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:36.444Z] [runtime-status] [42664] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:08:36.444Z] [runtime-status] [42664] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:08:36.445Z] [runtime-status] [42664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:36.447Z] [runtime-status] [42664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:36.449Z] [runtime-status] [42664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:36.450Z] [runtime-status] [42664] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:08:36.598Z] [runtime-status] [42664] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:08:36.599Z] [runtime-status] [42664] Listening to port: /tmp/fire_emu_99b3d6b6c0af3b70.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42664] Listening to port: /tmp/fire_emu_99b3d6b6c0af3b70.sock"}}
[debug] [2023-05-07T00:08:36.701Z] [worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: IDLE"}}
[debug] [2023-05-07T00:08:36.701Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:08:36.701Z] [worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_UxduShnyfzGCDd?t=1683418117', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_UxduShnyfzGCDd?t=1683418117',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_UxduShnyfzGCDd?t=1683418117',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:08:37 GMT', {"user":"      date: 'Sun, 07 May 2023 00:08:37 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:08:37 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '96782761-555c-48b6-a029-4d48e079f121', {"user":"      'idempotency-key': '96782761-555c-48b6-a029-4d48e079f121',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '96782761-555c-48b6-a029-4d48e079f121',"}}
[info] >        'original-request': 'req_UxduShnyfzGCDd', {"user":"      'original-request': 'req_UxduShnyfzGCDd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_UxduShnyfzGCDd',"}}
[info] >        'request-id': 'req_UxduShnyfzGCDd', {"user":"      'request-id': 'req_UxduShnyfzGCDd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_UxduShnyfzGCDd',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_UxduShnyfzGCDd' {"user":"    requestId: 'req_UxduShnyfzGCDd'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_UxduShnyfzGCDd'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:08:37 GMT', {"user":"    date: 'Sun, 07 May 2023 00:08:37 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:08:37 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '96782761-555c-48b6-a029-4d48e079f121', {"user":"    'idempotency-key': '96782761-555c-48b6-a029-4d48e079f121',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '96782761-555c-48b6-a029-4d48e079f121',"}}
[info] >      'original-request': 'req_UxduShnyfzGCDd', {"user":"    'original-request': 'req_UxduShnyfzGCDd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_UxduShnyfzGCDd',"}}
[info] >      'request-id': 'req_UxduShnyfzGCDd', {"user":"    'request-id': 'req_UxduShnyfzGCDd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_UxduShnyfzGCDd',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_UxduShnyfzGCDd', {"user":"  requestId: 'req_UxduShnyfzGCDd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_UxduShnyfzGCDd',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:08:37.330Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:08:37.330Z] [worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: exited"}}
[debug] [2023-05-07T00:08:37.330Z] [worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65c85786-d808-4729-a14f-e39d69d33ed1]: FINISHED"}}
[debug] [2023-05-07T00:08:45.266Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:45.266Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:08:45.266Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:45.266Z"],"workRunningCount":1}
[debug] [2023-05-07T00:08:45.266Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:08:45.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:08:45.271Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:08:45.271Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:08:45.283Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:08:45.284Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:08:46.146Z] [runtime-status] [42770] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:46.147Z] [runtime-status] [42770] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:46.148Z] [runtime-status] [42770] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:08:46.148Z] [runtime-status] [42770] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:46.298Z] [runtime-status] [42770] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:08:46.299Z] [runtime-status] [42770] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:08:46.300Z] [runtime-status] [42770] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:46.300Z] [runtime-status] [42770] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:46.302Z] [runtime-status] [42770] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:46.302Z] [runtime-status] [42770] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:08:46.411Z] [runtime-status] [42770] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:08:46.411Z] [runtime-status] [42770] Listening to port: /tmp/fire_emu_472b388571df3aa5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42770] Listening to port: /tmp/fire_emu_472b388571df3aa5.sock"}}
[debug] [2023-05-07T00:08:46.503Z] [worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: IDLE"}}
[debug] [2023-05-07T00:08:46.503Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:08:46.504Z] [worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_P4KsE3adSjVTsa?t=1683418126', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_P4KsE3adSjVTsa?t=1683418126',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_P4KsE3adSjVTsa?t=1683418126',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:08:46 GMT', {"user":"      date: 'Sun, 07 May 2023 00:08:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:08:46 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '9a6e2d77-4411-439e-b467-bd00d6df2f06', {"user":"      'idempotency-key': '9a6e2d77-4411-439e-b467-bd00d6df2f06',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '9a6e2d77-4411-439e-b467-bd00d6df2f06',"}}
[info] >        'original-request': 'req_P4KsE3adSjVTsa', {"user":"      'original-request': 'req_P4KsE3adSjVTsa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_P4KsE3adSjVTsa',"}}
[info] >        'request-id': 'req_P4KsE3adSjVTsa', {"user":"      'request-id': 'req_P4KsE3adSjVTsa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_P4KsE3adSjVTsa',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_P4KsE3adSjVTsa' {"user":"    requestId: 'req_P4KsE3adSjVTsa'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_P4KsE3adSjVTsa'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:08:46 GMT', {"user":"    date: 'Sun, 07 May 2023 00:08:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:08:46 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '9a6e2d77-4411-439e-b467-bd00d6df2f06', {"user":"    'idempotency-key': '9a6e2d77-4411-439e-b467-bd00d6df2f06',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '9a6e2d77-4411-439e-b467-bd00d6df2f06',"}}
[info] >      'original-request': 'req_P4KsE3adSjVTsa', {"user":"    'original-request': 'req_P4KsE3adSjVTsa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_P4KsE3adSjVTsa',"}}
[info] >      'request-id': 'req_P4KsE3adSjVTsa', {"user":"    'request-id': 'req_P4KsE3adSjVTsa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_P4KsE3adSjVTsa',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_P4KsE3adSjVTsa', {"user":"  requestId: 'req_P4KsE3adSjVTsa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_P4KsE3adSjVTsa',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:08:47.045Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:08:47.046Z] [worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: exited"}}
[debug] [2023-05-07T00:08:47.046Z] [worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c4468415-0d3d-4ee6-9ff8-1141ef3c9e8d]: FINISHED"}}
[debug] [2023-05-07T00:08:51.657Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-07T00:08:51.657Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z"],"workRunningCount":1}
[debug] [2023-05-07T00:08:51.657Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:08:51.666Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:08:51.667Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:08:51.667Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-05-07T00:08:51.682Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:08:51.683Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-05-07T00:08:51.862Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.862Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z"],"workRunningCount":1}
[debug] [2023-05-07T00:08:51.862Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.862Z"],"workRunningCount":2}
[debug] [2023-05-07T00:08:51.862Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:08:51.869Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:08:51.870Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:08:51.885Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:08:51.885Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:08:52.818Z] [runtime-status] [42840] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:52.820Z] [runtime-status] [42840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:52.821Z] [runtime-status] [42840] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:08:52.822Z] [runtime-status] [42840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:52.986Z] [runtime-status] [42840] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:08:52.986Z] [runtime-status] [42840] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:08:52.987Z] [runtime-status] [42840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:52.988Z] [runtime-status] [42840] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:52.989Z] [runtime-status] [42840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:52.990Z] [runtime-status] [42840] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:08:52.990Z] [runtime-status] [42847] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:52.992Z] [runtime-status] [42847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:52.992Z] [runtime-status] [42847] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:08:52.993Z] [runtime-status] [42847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:53.147Z] [runtime-status] [42840] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:08:53.148Z] [runtime-status] [42840] Listening to port: /tmp/fire_emu_0ce1b1e90809ca5a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42840] Listening to port: /tmp/fire_emu_0ce1b1e90809ca5a.sock"}}
[debug] [2023-05-07T00:08:53.208Z] [runtime-status] [42847] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:08:53.208Z] [runtime-status] [42847] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:08:53.209Z] [runtime-status] [42847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:53.211Z] [runtime-status] [42847] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:08:53.213Z] [runtime-status] [42847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:08:53.213Z] [runtime-status] [42847] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:08:53.214Z] [worker-us-central1-api-2953d949-f6cd-4d86-a8d4-0ac4f30f5160]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2953d949-f6cd-4d86-a8d4-0ac4f30f5160]: IDLE"}}
[debug] [2023-05-07T00:08:53.215Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:08:53.215Z] [worker-us-central1-api-2953d949-f6cd-4d86-a8d4-0ac4f30f5160]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2953d949-f6cd-4d86-a8d4-0ac4f30f5160]: BUSY"}}
[debug] [2023-05-07T00:08:53.324Z] [runtime-status] [42847] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:08:53.325Z] [runtime-status] [42847] Listening to port: /tmp/fire_emu_3d5ae4374989be83.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42847] Listening to port: /tmp/fire_emu_3d5ae4374989be83.sock"}}
[debug] [2023-05-07T00:08:53.412Z] [worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: IDLE"}}
[debug] [2023-05-07T00:08:53.412Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:08:53.412Z] [worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_RWkZ3RH9Wwl3eS?t=1683418133', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_RWkZ3RH9Wwl3eS?t=1683418133',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_RWkZ3RH9Wwl3eS?t=1683418133',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:08:53 GMT', {"user":"      date: 'Sun, 07 May 2023 00:08:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:08:53 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'e8f8842a-4bf4-46da-97f0-7ad42ada1a27', {"user":"      'idempotency-key': 'e8f8842a-4bf4-46da-97f0-7ad42ada1a27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'e8f8842a-4bf4-46da-97f0-7ad42ada1a27',"}}
[info] >        'original-request': 'req_RWkZ3RH9Wwl3eS', {"user":"      'original-request': 'req_RWkZ3RH9Wwl3eS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_RWkZ3RH9Wwl3eS',"}}
[info] >        'request-id': 'req_RWkZ3RH9Wwl3eS', {"user":"      'request-id': 'req_RWkZ3RH9Wwl3eS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_RWkZ3RH9Wwl3eS',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_RWkZ3RH9Wwl3eS' {"user":"    requestId: 'req_RWkZ3RH9Wwl3eS'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_RWkZ3RH9Wwl3eS'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:08:53 GMT', {"user":"    date: 'Sun, 07 May 2023 00:08:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:08:53 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'e8f8842a-4bf4-46da-97f0-7ad42ada1a27', {"user":"    'idempotency-key': 'e8f8842a-4bf4-46da-97f0-7ad42ada1a27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'e8f8842a-4bf4-46da-97f0-7ad42ada1a27',"}}
[info] >      'original-request': 'req_RWkZ3RH9Wwl3eS', {"user":"    'original-request': 'req_RWkZ3RH9Wwl3eS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_RWkZ3RH9Wwl3eS',"}}
[info] >      'request-id': 'req_RWkZ3RH9Wwl3eS', {"user":"    'request-id': 'req_RWkZ3RH9Wwl3eS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_RWkZ3RH9Wwl3eS',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_RWkZ3RH9Wwl3eS', {"user":"  requestId: 'req_RWkZ3RH9Wwl3eS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_RWkZ3RH9Wwl3eS',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:08:53.988Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z"],"workRunningCount":1}
[debug] [2023-05-07T00:08:53.989Z] [worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: exited"}}
[debug] [2023-05-07T00:08:53.989Z] [worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c32015d9-74fe-4da4-8c9b-5ce5583f710e]: FINISHED"}}
[debug] [2023-05-07T00:09:04.533Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z"],"workRunningCount":1}
[debug] [2023-05-07T00:09:04.533Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:09:04.533Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:09:04.539Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:09:04.540Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:09:04.540Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2023-05-07T00:09:04.554Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:09:04.554Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-05-07T00:09:04.740Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.739Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:09:04.740Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.739Z"],"workRunningCount":3}
[debug] [2023-05-07T00:09:04.740Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:09:04.745Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:09:04.745Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:09:04.755Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:09:04.755Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2023-05-07T00:09:05.460Z] [runtime-status] [42901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:09:05.461Z] [runtime-status] [42901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.462Z] [runtime-status] [42901] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:09:05.463Z] [runtime-status] [42901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.616Z] [runtime-status] [42901] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:09:05.616Z] [runtime-status] [42901] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:09:05.617Z] [runtime-status] [42901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.619Z] [runtime-status] [42901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:09:05.620Z] [runtime-status] [42901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.621Z] [runtime-status] [42901] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:09:05.638Z] [runtime-status] [42908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:09:05.639Z] [runtime-status] [42908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.640Z] [runtime-status] [42908] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:09:05.641Z] [runtime-status] [42908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.721Z] [runtime-status] [42901] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:09:05.722Z] [runtime-status] [42901] Listening to port: /tmp/fire_emu_5bdcd19fad37bdc3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42901] Listening to port: /tmp/fire_emu_5bdcd19fad37bdc3.sock"}}
[debug] [2023-05-07T00:09:05.772Z] [worker-us-central1-api-752bc7f7-b759-40dd-a153-69a0f20226db]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-752bc7f7-b759-40dd-a153-69a0f20226db]: IDLE"}}
[debug] [2023-05-07T00:09:05.772Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:09:05.773Z] [worker-us-central1-api-752bc7f7-b759-40dd-a153-69a0f20226db]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-752bc7f7-b759-40dd-a153-69a0f20226db]: BUSY"}}
[debug] [2023-05-07T00:09:05.799Z] [runtime-status] [42908] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:09:05.799Z] [runtime-status] [42908] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:09:05.800Z] [runtime-status] [42908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.801Z] [runtime-status] [42908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:09:05.809Z] [runtime-status] [42908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:09:05.809Z] [runtime-status] [42908] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:09:05.911Z] [runtime-status] [42908] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:09:05.912Z] [runtime-status] [42908] Listening to port: /tmp/fire_emu_172ff55a01e9fc69.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [42908] Listening to port: /tmp/fire_emu_172ff55a01e9fc69.sock"}}
[debug] [2023-05-07T00:09:05.974Z] [worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: IDLE"}}
[debug] [2023-05-07T00:09:05.974Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:09:05.974Z] [worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 667.554359ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 667.554359ms"}}
[debug] [2023-05-07T00:09:06.643Z] [worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: IDLE"}}
[debug] [2023-05-07T00:09:06.643Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:09:31.265Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:31.265Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:09:31.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:31.265Z"],"workRunningCount":3}
[debug] [2023-05-07T00:09:31.265Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:09:31.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:09:31.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:09:31.270Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:09:31.270Z] [worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_kKROX1F7o9IIPv?t=1683418171', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_kKROX1F7o9IIPv?t=1683418171',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_kKROX1F7o9IIPv?t=1683418171',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:09:31 GMT', {"user":"      date: 'Sun, 07 May 2023 00:09:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:09:31 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '1059de1f-8472-4196-a99d-e7495792c3e6', {"user":"      'idempotency-key': '1059de1f-8472-4196-a99d-e7495792c3e6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '1059de1f-8472-4196-a99d-e7495792c3e6',"}}
[info] >        'original-request': 'req_kKROX1F7o9IIPv', {"user":"      'original-request': 'req_kKROX1F7o9IIPv',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_kKROX1F7o9IIPv',"}}
[info] >        'request-id': 'req_kKROX1F7o9IIPv', {"user":"      'request-id': 'req_kKROX1F7o9IIPv',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_kKROX1F7o9IIPv',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_kKROX1F7o9IIPv' {"user":"    requestId: 'req_kKROX1F7o9IIPv'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_kKROX1F7o9IIPv'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:09:31 GMT', {"user":"    date: 'Sun, 07 May 2023 00:09:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:09:31 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '1059de1f-8472-4196-a99d-e7495792c3e6', {"user":"    'idempotency-key': '1059de1f-8472-4196-a99d-e7495792c3e6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '1059de1f-8472-4196-a99d-e7495792c3e6',"}}
[info] >      'original-request': 'req_kKROX1F7o9IIPv', {"user":"    'original-request': 'req_kKROX1F7o9IIPv',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_kKROX1F7o9IIPv',"}}
[info] >      'request-id': 'req_kKROX1F7o9IIPv', {"user":"    'request-id': 'req_kKROX1F7o9IIPv',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_kKROX1F7o9IIPv',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_kKROX1F7o9IIPv', {"user":"  requestId: 'req_kKROX1F7o9IIPv',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_kKROX1F7o9IIPv',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:09:31.586Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:09:31.586Z] [worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: exited"}}
[debug] [2023-05-07T00:09:31.586Z] [worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3c528a97-c15c-48b7-a68c-c91ecd29d040]: FINISHED"}}
[debug] [2023-05-07T00:10:01.264Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:01.264Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:01.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:01.264Z"],"workRunningCount":3}
[debug] [2023-05-07T00:10:01.264Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:10:01.267Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:10:01.268Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:10:01.268Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[debug] [2023-05-07T00:10:01.279Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:10:01.279Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2023-05-07T00:10:02.240Z] [runtime-status] [43145] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:02.242Z] [runtime-status] [43145] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:02.242Z] [runtime-status] [43145] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:10:02.243Z] [runtime-status] [43145] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:02.442Z] [runtime-status] [43145] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:10:02.442Z] [runtime-status] [43145] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:10:02.443Z] [runtime-status] [43145] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:02.444Z] [runtime-status] [43145] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:02.446Z] [runtime-status] [43145] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:02.446Z] [runtime-status] [43145] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:10:02.577Z] [runtime-status] [43145] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:10:02.577Z] [runtime-status] [43145] Listening to port: /tmp/fire_emu_a5656f3bb65c54e0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43145] Listening to port: /tmp/fire_emu_a5656f3bb65c54e0.sock"}}
[debug] [2023-05-07T00:10:02.597Z] [worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: IDLE"}}
[debug] [2023-05-07T00:10:02.597Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:10:02.598Z] [worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_d0FcAkbIjTrD7V?t=1683418203', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_d0FcAkbIjTrD7V?t=1683418203',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_d0FcAkbIjTrD7V?t=1683418203',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:10:03 GMT', {"user":"      date: 'Sun, 07 May 2023 00:10:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:10:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '55d9f6a4-db2d-4363-b0e7-186392126184', {"user":"      'idempotency-key': '55d9f6a4-db2d-4363-b0e7-186392126184',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '55d9f6a4-db2d-4363-b0e7-186392126184',"}}
[info] >        'original-request': 'req_d0FcAkbIjTrD7V', {"user":"      'original-request': 'req_d0FcAkbIjTrD7V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_d0FcAkbIjTrD7V',"}}
[info] >        'request-id': 'req_d0FcAkbIjTrD7V', {"user":"      'request-id': 'req_d0FcAkbIjTrD7V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_d0FcAkbIjTrD7V',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_d0FcAkbIjTrD7V' {"user":"    requestId: 'req_d0FcAkbIjTrD7V'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_d0FcAkbIjTrD7V'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:10:03 GMT', {"user":"    date: 'Sun, 07 May 2023 00:10:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:10:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '55d9f6a4-db2d-4363-b0e7-186392126184', {"user":"    'idempotency-key': '55d9f6a4-db2d-4363-b0e7-186392126184',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '55d9f6a4-db2d-4363-b0e7-186392126184',"}}
[info] >      'original-request': 'req_d0FcAkbIjTrD7V', {"user":"    'original-request': 'req_d0FcAkbIjTrD7V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_d0FcAkbIjTrD7V',"}}
[info] >      'request-id': 'req_d0FcAkbIjTrD7V', {"user":"    'request-id': 'req_d0FcAkbIjTrD7V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_d0FcAkbIjTrD7V',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_d0FcAkbIjTrD7V', {"user":"  requestId: 'req_d0FcAkbIjTrD7V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_d0FcAkbIjTrD7V',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:10:03.253Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:03.253Z] [worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: exited"}}
[debug] [2023-05-07T00:10:03.253Z] [worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dffc88-eb69-4be5-a1a5-4ff021515be8]: FINISHED"}}
[debug] [2023-05-07T00:10:09.268Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:09.268Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:09.268Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:09.268Z"],"workRunningCount":3}
[debug] [2023-05-07T00:10:09.268Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:10:09.273Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:10:09.273Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:10:09.273Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[debug] [2023-05-07T00:10:09.282Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:10:09.282Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2023-05-07T00:10:10.163Z] [runtime-status] [43261] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:10.164Z] [runtime-status] [43261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:10.165Z] [runtime-status] [43261] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:10:10.166Z] [runtime-status] [43261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:10.328Z] [runtime-status] [43261] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:10:10.328Z] [runtime-status] [43261] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:10:10.330Z] [runtime-status] [43261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:10.331Z] [runtime-status] [43261] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:10.333Z] [runtime-status] [43261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:10.333Z] [runtime-status] [43261] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:10:10.438Z] [runtime-status] [43261] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:10:10.438Z] [runtime-status] [43261] Listening to port: /tmp/fire_emu_343499479994d328.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43261] Listening to port: /tmp/fire_emu_343499479994d328.sock"}}
[debug] [2023-05-07T00:10:10.498Z] [worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: IDLE"}}
[debug] [2023-05-07T00:10:10.498Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:10:10.498Z] [worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_IAkrkH1vnoFmqg?t=1683418210', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_IAkrkH1vnoFmqg?t=1683418210',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_IAkrkH1vnoFmqg?t=1683418210',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:10:11 GMT', {"user":"      date: 'Sun, 07 May 2023 00:10:11 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:10:11 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '272e10e0-9e7a-4ac5-be51-8af951d0b30c', {"user":"      'idempotency-key': '272e10e0-9e7a-4ac5-be51-8af951d0b30c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '272e10e0-9e7a-4ac5-be51-8af951d0b30c',"}}
[info] >        'original-request': 'req_IAkrkH1vnoFmqg', {"user":"      'original-request': 'req_IAkrkH1vnoFmqg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_IAkrkH1vnoFmqg',"}}
[info] >        'request-id': 'req_IAkrkH1vnoFmqg', {"user":"      'request-id': 'req_IAkrkH1vnoFmqg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_IAkrkH1vnoFmqg',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_IAkrkH1vnoFmqg' {"user":"    requestId: 'req_IAkrkH1vnoFmqg'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_IAkrkH1vnoFmqg'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:10:11 GMT', {"user":"    date: 'Sun, 07 May 2023 00:10:11 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:10:11 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '272e10e0-9e7a-4ac5-be51-8af951d0b30c', {"user":"    'idempotency-key': '272e10e0-9e7a-4ac5-be51-8af951d0b30c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '272e10e0-9e7a-4ac5-be51-8af951d0b30c',"}}
[info] >      'original-request': 'req_IAkrkH1vnoFmqg', {"user":"    'original-request': 'req_IAkrkH1vnoFmqg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_IAkrkH1vnoFmqg',"}}
[info] >      'request-id': 'req_IAkrkH1vnoFmqg', {"user":"    'request-id': 'req_IAkrkH1vnoFmqg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_IAkrkH1vnoFmqg',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_IAkrkH1vnoFmqg', {"user":"  requestId: 'req_IAkrkH1vnoFmqg',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_IAkrkH1vnoFmqg',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:10:11.091Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:11.092Z] [worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: exited"}}
[debug] [2023-05-07T00:10:11.092Z] [worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c09337d-8fa2-47f3-a0f7-2a1de22e1092]: FINISHED"}}
[debug] [2023-05-07T00:10:14.266Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:14.266Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:14.266Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:14.266Z"],"workRunningCount":3}
[debug] [2023-05-07T00:10:14.267Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:10:14.271Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:10:14.271Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:10:14.271Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[debug] [2023-05-07T00:10:14.281Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:10:14.282Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2023-05-07T00:10:15.104Z] [runtime-status] [43329] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:15.106Z] [runtime-status] [43329] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:15.108Z] [runtime-status] [43329] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:10:15.109Z] [runtime-status] [43329] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:15.317Z] [runtime-status] [43329] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:10:15.317Z] [runtime-status] [43329] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:10:15.320Z] [runtime-status] [43329] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:15.320Z] [runtime-status] [43329] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:15.322Z] [runtime-status] [43329] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:15.323Z] [runtime-status] [43329] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:10:15.444Z] [runtime-status] [43329] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:10:15.445Z] [runtime-status] [43329] Listening to port: /tmp/fire_emu_475aa1e29fec3ccf.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43329] Listening to port: /tmp/fire_emu_475aa1e29fec3ccf.sock"}}
[debug] [2023-05-07T00:10:15.502Z] [worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: IDLE"}}
[debug] [2023-05-07T00:10:15.502Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:10:15.502Z] [worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_T0aMMa05LwO1wW?t=1683418215', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_T0aMMa05LwO1wW?t=1683418215',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_T0aMMa05LwO1wW?t=1683418215',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:10:16 GMT', {"user":"      date: 'Sun, 07 May 2023 00:10:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:10:16 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '5248dfc1-8c8c-4b87-9b59-9d1d9f9018c4', {"user":"      'idempotency-key': '5248dfc1-8c8c-4b87-9b59-9d1d9f9018c4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '5248dfc1-8c8c-4b87-9b59-9d1d9f9018c4',"}}
[info] >        'original-request': 'req_T0aMMa05LwO1wW', {"user":"      'original-request': 'req_T0aMMa05LwO1wW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_T0aMMa05LwO1wW',"}}
[info] >        'request-id': 'req_T0aMMa05LwO1wW', {"user":"      'request-id': 'req_T0aMMa05LwO1wW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_T0aMMa05LwO1wW',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_T0aMMa05LwO1wW' {"user":"    requestId: 'req_T0aMMa05LwO1wW'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_T0aMMa05LwO1wW'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:10:16 GMT', {"user":"    date: 'Sun, 07 May 2023 00:10:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:10:16 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '5248dfc1-8c8c-4b87-9b59-9d1d9f9018c4', {"user":"    'idempotency-key': '5248dfc1-8c8c-4b87-9b59-9d1d9f9018c4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '5248dfc1-8c8c-4b87-9b59-9d1d9f9018c4',"}}
[info] >      'original-request': 'req_T0aMMa05LwO1wW', {"user":"    'original-request': 'req_T0aMMa05LwO1wW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_T0aMMa05LwO1wW',"}}
[info] >      'request-id': 'req_T0aMMa05LwO1wW', {"user":"    'request-id': 'req_T0aMMa05LwO1wW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_T0aMMa05LwO1wW',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_T0aMMa05LwO1wW', {"user":"  requestId: 'req_T0aMMa05LwO1wW',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_T0aMMa05LwO1wW',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:10:16.112Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:16.112Z] [worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: exited"}}
[debug] [2023-05-07T00:10:16.112Z] [worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4874ef79-c035-431f-b1ff-eb585e1b91cc]: FINISHED"}}
[debug] [2023-05-07T00:10:16.264Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:16.264Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:16.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:16.264Z"],"workRunningCount":3}
[debug] [2023-05-07T00:10:16.264Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:10:16.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:10:16.270Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:10:16.270Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[debug] [2023-05-07T00:10:16.283Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:10:16.283Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2023-05-07T00:10:17.276Z] [runtime-status] [43378] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:17.277Z] [runtime-status] [43378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:17.279Z] [runtime-status] [43378] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:10:17.279Z] [runtime-status] [43378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:17.427Z] [runtime-status] [43378] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:10:17.427Z] [runtime-status] [43378] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:10:17.428Z] [runtime-status] [43378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:17.429Z] [runtime-status] [43378] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:17.430Z] [runtime-status] [43378] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:17.430Z] [runtime-status] [43378] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:10:17.526Z] [runtime-status] [43378] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:10:17.527Z] [runtime-status] [43378] Listening to port: /tmp/fire_emu_0b9fafcfc375b0d8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43378] Listening to port: /tmp/fire_emu_0b9fafcfc375b0d8.sock"}}
[debug] [2023-05-07T00:10:17.601Z] [worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: IDLE"}}
[debug] [2023-05-07T00:10:17.601Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:10:17.601Z] [worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_PRMIsraha3TkoC?t=1683418217', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_PRMIsraha3TkoC?t=1683418217',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_PRMIsraha3TkoC?t=1683418217',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:10:18 GMT', {"user":"      date: 'Sun, 07 May 2023 00:10:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:10:18 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '6995f96e-d2d4-4410-b72b-d483c30da022', {"user":"      'idempotency-key': '6995f96e-d2d4-4410-b72b-d483c30da022',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '6995f96e-d2d4-4410-b72b-d483c30da022',"}}
[info] >        'original-request': 'req_PRMIsraha3TkoC', {"user":"      'original-request': 'req_PRMIsraha3TkoC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_PRMIsraha3TkoC',"}}
[info] >        'request-id': 'req_PRMIsraha3TkoC', {"user":"      'request-id': 'req_PRMIsraha3TkoC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_PRMIsraha3TkoC',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_PRMIsraha3TkoC' {"user":"    requestId: 'req_PRMIsraha3TkoC'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_PRMIsraha3TkoC'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:10:18 GMT', {"user":"    date: 'Sun, 07 May 2023 00:10:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:10:18 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '6995f96e-d2d4-4410-b72b-d483c30da022', {"user":"    'idempotency-key': '6995f96e-d2d4-4410-b72b-d483c30da022',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '6995f96e-d2d4-4410-b72b-d483c30da022',"}}
[info] >      'original-request': 'req_PRMIsraha3TkoC', {"user":"    'original-request': 'req_PRMIsraha3TkoC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_PRMIsraha3TkoC',"}}
[info] >      'request-id': 'req_PRMIsraha3TkoC', {"user":"    'request-id': 'req_PRMIsraha3TkoC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_PRMIsraha3TkoC',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_PRMIsraha3TkoC', {"user":"  requestId: 'req_PRMIsraha3TkoC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_PRMIsraha3TkoC',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:10:18.200Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:18.200Z] [worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: exited"}}
[debug] [2023-05-07T00:10:18.200Z] [worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b0efded5-6f93-4857-ae3b-3b10fb0527f2]: FINISHED"}}
[debug] [2023-05-07T00:10:26.062Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z"],"workRunningCount":2}
[debug] [2023-05-07T00:10:26.063Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:10:26.063Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:10:26.068Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:10:26.068Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:10:26.068Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[debug] [2023-05-07T00:10:26.080Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:10:26.081Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2023-05-07T00:10:26.267Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.267Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:10:26.268Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.267Z"],"workRunningCount":4}
[debug] [2023-05-07T00:10:26.268Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:10:26.271Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:10:26.272Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:10:26.281Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:10:26.282Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2023-05-07T00:10:26.975Z] [runtime-status] [43464] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:26.976Z] [runtime-status] [43464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:26.976Z] [runtime-status] [43464] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:10:26.977Z] [runtime-status] [43464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:27.137Z] [runtime-status] [43464] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:10:27.137Z] [runtime-status] [43464] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:10:27.138Z] [runtime-status] [43464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:27.139Z] [runtime-status] [43464] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:27.140Z] [runtime-status] [43464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:27.140Z] [runtime-status] [43464] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:10:27.158Z] [runtime-status] [43471] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:27.160Z] [runtime-status] [43471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:27.160Z] [runtime-status] [43471] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:10:27.161Z] [runtime-status] [43471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:27.241Z] [runtime-status] [43464] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:10:27.241Z] [runtime-status] [43464] Listening to port: /tmp/fire_emu_ab2e2c6089e4377b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43464] Listening to port: /tmp/fire_emu_ab2e2c6089e4377b.sock"}}
[debug] [2023-05-07T00:10:27.295Z] [worker-us-central1-api-f10c996b-d959-4810-8205-116a93925612]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f10c996b-d959-4810-8205-116a93925612]: IDLE"}}
[debug] [2023-05-07T00:10:27.296Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:10:27.296Z] [worker-us-central1-api-f10c996b-d959-4810-8205-116a93925612]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f10c996b-d959-4810-8205-116a93925612]: BUSY"}}
[debug] [2023-05-07T00:10:27.315Z] [runtime-status] [43471] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:10:27.315Z] [runtime-status] [43471] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:10:27.316Z] [runtime-status] [43471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:27.318Z] [runtime-status] [43471] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:10:27.320Z] [runtime-status] [43471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:10:27.320Z] [runtime-status] [43471] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:10:27.424Z] [runtime-status] [43471] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:10:27.424Z] [runtime-status] [43471] Listening to port: /tmp/fire_emu_21d4194d684b4c06.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43471] Listening to port: /tmp/fire_emu_21d4194d684b4c06.sock"}}
[debug] [2023-05-07T00:10:27.496Z] [worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: IDLE"}}
[debug] [2023-05-07T00:10:27.497Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:10:27.497Z] [worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 862.857285ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 862.857285ms"}}
[debug] [2023-05-07T00:10:28.360Z] [worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: IDLE"}}
[debug] [2023-05-07T00:10:28.360Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:11:28.868Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:28.868Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:11:28.868Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:28.868Z"],"workRunningCount":4}
[debug] [2023-05-07T00:11:28.868Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:11:28.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:11:28.873Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:11:28.873Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:11:28.873Z] [worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: BUSY"}}
[debug] [2023-05-07T00:11:28.876Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:28.876Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:28.868Z"],"workRunningCount":4}
[debug] [2023-05-07T00:11:28.876Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:28.868Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:28.876Z"],"workRunningCount":5}
[debug] [2023-05-07T00:11:28.876Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:11:28.880Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:11:28.880Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:11:28.892Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:11:28.892Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_ehQS3uzwDF5ucE?t=1683418288', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_ehQS3uzwDF5ucE?t=1683418288',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_ehQS3uzwDF5ucE?t=1683418288',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:11:29 GMT', {"user":"      date: 'Sun, 07 May 2023 00:11:29 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:11:29 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '575233fc-44be-4961-8d40-c1758ce7c671', {"user":"      'idempotency-key': '575233fc-44be-4961-8d40-c1758ce7c671',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '575233fc-44be-4961-8d40-c1758ce7c671',"}}
[info] >        'original-request': 'req_ehQS3uzwDF5ucE', {"user":"      'original-request': 'req_ehQS3uzwDF5ucE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_ehQS3uzwDF5ucE',"}}
[info] >        'request-id': 'req_ehQS3uzwDF5ucE', {"user":"      'request-id': 'req_ehQS3uzwDF5ucE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ehQS3uzwDF5ucE',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_ehQS3uzwDF5ucE' {"user":"    requestId: 'req_ehQS3uzwDF5ucE'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ehQS3uzwDF5ucE'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:11:29 GMT', {"user":"    date: 'Sun, 07 May 2023 00:11:29 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:11:29 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '575233fc-44be-4961-8d40-c1758ce7c671', {"user":"    'idempotency-key': '575233fc-44be-4961-8d40-c1758ce7c671',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '575233fc-44be-4961-8d40-c1758ce7c671',"}}
[info] >      'original-request': 'req_ehQS3uzwDF5ucE', {"user":"    'original-request': 'req_ehQS3uzwDF5ucE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_ehQS3uzwDF5ucE',"}}
[info] >      'request-id': 'req_ehQS3uzwDF5ucE', {"user":"    'request-id': 'req_ehQS3uzwDF5ucE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ehQS3uzwDF5ucE',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_ehQS3uzwDF5ucE', {"user":"  requestId: 'req_ehQS3uzwDF5ucE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ehQS3uzwDF5ucE',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:11:29.188Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:28.876Z"],"workRunningCount":4}
[debug] [2023-05-07T00:11:29.188Z] [worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: exited"}}
[debug] [2023-05-07T00:11:29.188Z] [worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-392f7635-58dd-400f-b818-1dad8ba88b50]: FINISHED"}}
[debug] [2023-05-07T00:11:29.809Z] [runtime-status] [43603] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:11:29.810Z] [runtime-status] [43603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:29.811Z] [runtime-status] [43603] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:11:29.812Z] [runtime-status] [43603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:29.983Z] [runtime-status] [43603] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:11:29.983Z] [runtime-status] [43603] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:11:29.985Z] [runtime-status] [43603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:29.985Z] [runtime-status] [43603] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:11:29.987Z] [runtime-status] [43603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:29.987Z] [runtime-status] [43603] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:11:30.089Z] [runtime-status] [43603] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:11:30.089Z] [runtime-status] [43603] Listening to port: /tmp/fire_emu_db062f5c9349cb3e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43603] Listening to port: /tmp/fire_emu_db062f5c9349cb3e.sock"}}
[debug] [2023-05-07T00:11:30.108Z] [worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: IDLE"}}
[debug] [2023-05-07T00:11:30.108Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-05-07T00:11:30.108Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 4"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:11:30.108Z] [worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_cFLLcHt3NZK6qx?t=1683418290', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_cFLLcHt3NZK6qx?t=1683418290',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_cFLLcHt3NZK6qx?t=1683418290',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:11:30 GMT', {"user":"      date: 'Sun, 07 May 2023 00:11:30 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:11:30 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'bfa6051b-4ccb-48fd-a5ad-328ce829d06c', {"user":"      'idempotency-key': 'bfa6051b-4ccb-48fd-a5ad-328ce829d06c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'bfa6051b-4ccb-48fd-a5ad-328ce829d06c',"}}
[info] >        'original-request': 'req_cFLLcHt3NZK6qx', {"user":"      'original-request': 'req_cFLLcHt3NZK6qx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_cFLLcHt3NZK6qx',"}}
[info] >        'request-id': 'req_cFLLcHt3NZK6qx', {"user":"      'request-id': 'req_cFLLcHt3NZK6qx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_cFLLcHt3NZK6qx',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_cFLLcHt3NZK6qx' {"user":"    requestId: 'req_cFLLcHt3NZK6qx'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_cFLLcHt3NZK6qx'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:11:30 GMT', {"user":"    date: 'Sun, 07 May 2023 00:11:30 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:11:30 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'bfa6051b-4ccb-48fd-a5ad-328ce829d06c', {"user":"    'idempotency-key': 'bfa6051b-4ccb-48fd-a5ad-328ce829d06c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'bfa6051b-4ccb-48fd-a5ad-328ce829d06c',"}}
[info] >      'original-request': 'req_cFLLcHt3NZK6qx', {"user":"    'original-request': 'req_cFLLcHt3NZK6qx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_cFLLcHt3NZK6qx',"}}
[info] >      'request-id': 'req_cFLLcHt3NZK6qx', {"user":"    'request-id': 'req_cFLLcHt3NZK6qx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_cFLLcHt3NZK6qx',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_cFLLcHt3NZK6qx', {"user":"  requestId: 'req_cFLLcHt3NZK6qx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_cFLLcHt3NZK6qx',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:11:30.708Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:11:30.708Z] [worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: exited"}}
[debug] [2023-05-07T00:11:30.708Z] [worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-36c7ce04-5d6e-4619-962e-1b5f195cb6ae]: FINISHED"}}
[debug] [2023-05-07T00:11:41.563Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:41.563Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:11:41.563Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:41.563Z"],"workRunningCount":4}
[debug] [2023-05-07T00:11:41.563Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:11:41.568Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:11:41.569Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:11:41.569Z] [worker-pool] Cleaned up workers for us-central1-api: 4 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 4 --> 3"}}
[debug] [2023-05-07T00:11:41.580Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:11:41.580Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2023-05-07T00:11:41.588Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:41.588Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:41.563Z"],"workRunningCount":4}
[debug] [2023-05-07T00:11:41.588Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:41.563Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:41.588Z"],"workRunningCount":5}
[debug] [2023-05-07T00:11:41.588Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:11:41.595Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:11:41.596Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:11:41.624Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:11:41.624Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2023-05-07T00:11:42.583Z] [runtime-status] [43700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:11:42.584Z] [runtime-status] [43700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.585Z] [runtime-status] [43700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:11:42.585Z] [runtime-status] [43700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.627Z] [runtime-status] [43706] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:11:42.628Z] [runtime-status] [43706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.629Z] [runtime-status] [43706] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:11:42.629Z] [runtime-status] [43706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.749Z] [runtime-status] [43700] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:11:42.749Z] [runtime-status] [43700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:11:42.750Z] [runtime-status] [43700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.752Z] [runtime-status] [43700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:11:42.753Z] [runtime-status] [43700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.753Z] [runtime-status] [43700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:11:42.806Z] [runtime-status] [43706] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:11:42.806Z] [runtime-status] [43706] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:11:42.807Z] [runtime-status] [43706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.808Z] [runtime-status] [43706] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:11:42.810Z] [runtime-status] [43706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:11:42.810Z] [runtime-status] [43706] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:11:42.859Z] [runtime-status] [43700] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:11:42.860Z] [runtime-status] [43700] Listening to port: /tmp/fire_emu_c571dcc19dbfb034.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43700] Listening to port: /tmp/fire_emu_c571dcc19dbfb034.sock"}}
[debug] [2023-05-07T00:11:42.896Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:11:42.896Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:11:42.896Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[debug] [2023-05-07T00:11:42.911Z] [runtime-status] [43706] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:11:42.912Z] [runtime-status] [43706] Listening to port: /tmp/fire_emu_45016814bef82b80.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [43706] Listening to port: /tmp/fire_emu_45016814bef82b80.sock"}}
[debug] [2023-05-07T00:11:42.941Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:11:42.942Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:11:42.942Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 607.606616ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 607.606616ms"}}
[debug] [2023-05-07T00:11:43.550Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:11:43.551Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:11:41.563Z"],"workRunningCount":4}
[info] i  functions: Finished "us-central1-api" in 716.292744ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 716.292744ms"}}
[debug] [2023-05-07T00:11:43.613Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:11:43.613Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:12:08.406Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:08.406Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:12:08.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:08.406Z"],"workRunningCount":4}
[debug] [2023-05-07T00:12:08.406Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:12:08.417Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:12:08.418Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:12:08.418Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:12:08.418Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[debug] [2023-05-07T00:12:08.478Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:08.478Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:08.406Z"],"workRunningCount":4}
[debug] [2023-05-07T00:12:08.479Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:08.406Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:08.478Z"],"workRunningCount":5}
[debug] [2023-05-07T00:12:08.479Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:12:08.487Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:12:08.487Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:12:08.488Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:12:08.488Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 381.788774ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 381.788774ms"}}
[debug] [2023-05-07T00:12:08.800Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:12:08.801Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:08.478Z"],"workRunningCount":4}
[info] i  functions: Finished "us-central1-api" in 417.789102ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 417.789102ms"}}
[debug] [2023-05-07T00:12:08.908Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:12:08.908Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:12:09.379Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:09.379Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:12:09.379Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:12:09.379Z"],"workRunningCount":4}
[debug] [2023-05-07T00:12:09.379Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:12:09.388Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:12:09.392Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:12:09.392Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:12:09.394Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 353.621366ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 353.621366ms"}}
[debug] [2023-05-07T00:12:09.748Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:12:09.748Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:13:03.979Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:03.979Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:13:03.979Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:03.979Z"],"workRunningCount":4}
[debug] [2023-05-07T00:13:03.979Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:13:03.985Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:13:03.985Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:13:03.985Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:13:03.986Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 385.335744ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 385.335744ms"}}
[debug] [2023-05-07T00:13:04.372Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:13:04.372Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:13:17.953Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:17.953Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:13:17.953Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:17.953Z"],"workRunningCount":4}
[debug] [2023-05-07T00:13:17.953Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:13:17.959Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:13:17.960Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:13:17.960Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:13:17.960Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[debug] [2023-05-07T00:13:17.962Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:17.962Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:17.953Z"],"workRunningCount":4}
[debug] [2023-05-07T00:13:17.963Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:17.953Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:17.962Z"],"workRunningCount":5}
[debug] [2023-05-07T00:13:17.963Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:13:17.968Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:13:17.969Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:13:17.969Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:13:17.969Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 374.209183ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 374.209183ms"}}
[debug] [2023-05-07T00:13:18.344Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:13:18.344Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:17.953Z"],"workRunningCount":4}
[info] i  functions: Finished "us-central1-api" in 385.2616ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 385.2616ms"}}
[debug] [2023-05-07T00:13:18.346Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:13:18.346Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:13:50.270Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:50.270Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:13:50.270Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:13:50.270Z"],"workRunningCount":4}
[debug] [2023-05-07T00:13:50.270Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:13:50.274Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:13:50.274Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:13:50.274Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:13:50.275Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 363.03506ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 363.03506ms"}}
[debug] [2023-05-07T00:13:50.638Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:13:50.638Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:14:10.270Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:14:10.270Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:14:10.270Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:14:10.270Z"],"workRunningCount":4}
[debug] [2023-05-07T00:14:10.270Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:14:10.275Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:14:10.275Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:14:10.275Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:14:10.275Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 364.337951ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 364.337951ms"}}
[debug] [2023-05-07T00:14:10.640Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:14:10.640Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:20.122Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:20.122Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:20.122Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:20.122Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:20.122Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:38:20.126Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:20.126Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:38:20.126Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:20.127Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 3.208595ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.208595ms"}}
[debug] [2023-05-07T00:38:20.130Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: IDLE"}}
[debug] [2023-05-07T00:38:20.130Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:20.133Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:20.133Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:20.133Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:20.133Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:20.133Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:38:20.138Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:20.138Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:38:20.138Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:20.139Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_TrDKKWPKJbHTcp?t=1683419900', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_TrDKKWPKJbHTcp?t=1683419900',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_TrDKKWPKJbHTcp?t=1683419900',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:38:20 GMT', {"user":"      date: 'Sun, 07 May 2023 00:38:20 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:38:20 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'e6632d06-a4b8-42f3-ae16-fb5a7d484eb5', {"user":"      'idempotency-key': 'e6632d06-a4b8-42f3-ae16-fb5a7d484eb5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'e6632d06-a4b8-42f3-ae16-fb5a7d484eb5',"}}
[info] >        'original-request': 'req_TrDKKWPKJbHTcp', {"user":"      'original-request': 'req_TrDKKWPKJbHTcp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_TrDKKWPKJbHTcp',"}}
[info] >        'request-id': 'req_TrDKKWPKJbHTcp', {"user":"      'request-id': 'req_TrDKKWPKJbHTcp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_TrDKKWPKJbHTcp',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_TrDKKWPKJbHTcp' {"user":"    requestId: 'req_TrDKKWPKJbHTcp'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_TrDKKWPKJbHTcp'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:38:20 GMT', {"user":"    date: 'Sun, 07 May 2023 00:38:20 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:38:20 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'e6632d06-a4b8-42f3-ae16-fb5a7d484eb5', {"user":"    'idempotency-key': 'e6632d06-a4b8-42f3-ae16-fb5a7d484eb5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'e6632d06-a4b8-42f3-ae16-fb5a7d484eb5',"}}
[info] >      'original-request': 'req_TrDKKWPKJbHTcp', {"user":"    'original-request': 'req_TrDKKWPKJbHTcp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_TrDKKWPKJbHTcp',"}}
[info] >      'request-id': 'req_TrDKKWPKJbHTcp', {"user":"    'request-id': 'req_TrDKKWPKJbHTcp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_TrDKKWPKJbHTcp',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_TrDKKWPKJbHTcp', {"user":"  requestId: 'req_TrDKKWPKJbHTcp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_TrDKKWPKJbHTcp',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:38:20.689Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:20.690Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: exited"}}
[debug] [2023-05-07T00:38:20.690Z] [worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9b7eb030-0a00-4b9d-a8dc-48a41d572f17]: FINISHED"}}
[debug] [2023-05-07T00:38:25.379Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:25.379Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:25.379Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:25.379Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:25.379Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:38:25.386Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:25.387Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:38:25.387Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 4"}}
[debug] [2023-05-07T00:38:25.387Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:25.387Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 3.98447ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.98447ms"}}
[debug] [2023-05-07T00:38:25.392Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:38:25.392Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:25.395Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:25.395Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:25.395Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:25.395Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:25.395Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:38:25.401Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:25.401Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:38:25.401Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:25.401Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 596.890763ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 596.890763ms"}}
[debug] [2023-05-07T00:38:25.999Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:38:25.999Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:39.278Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:39.278Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:39.278Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:39.278Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:39.278Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:38:39.283Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:39.283Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:38:39.283Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:39.284Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[debug] [2023-05-07T00:38:39.289Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:39.289Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:39.278Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:39.289Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:39.278Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:39.289Z"],"workRunningCount":5}
[debug] [2023-05-07T00:38:39.289Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:38:39.294Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:39.295Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:38:39.307Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:38:39.307Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[info] i  functions: Finished "us-central1-api" in 373.446149ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 373.446149ms"}}
[debug] [2023-05-07T00:38:39.657Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:38:39.658Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:39.289Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:40.530Z] [runtime-status] [46769] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:38:40.531Z] [runtime-status] [46769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:38:40.533Z] [runtime-status] [46769] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:38:40.534Z] [runtime-status] [46769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:38:40.814Z] [runtime-status] [46769] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:38:40.814Z] [runtime-status] [46769] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:38:40.816Z] [runtime-status] [46769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:38:40.817Z] [runtime-status] [46769] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:38:40.820Z] [runtime-status] [46769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:38:40.820Z] [runtime-status] [46769] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:38:40.954Z] [runtime-status] [46769] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:38:40.956Z] [runtime-status] [46769] Listening to port: /tmp/fire_emu_2492ae9f015c8d5f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46769] Listening to port: /tmp/fire_emu_2492ae9f015c8d5f.sock"}}
[debug] [2023-05-07T00:38:41.027Z] [worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: IDLE"}}
[debug] [2023-05-07T00:38:41.027Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:41.028Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 373.496337ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 373.496337ms"}}
[debug] [2023-05-07T00:38:41.402Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:38:41.402Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:46.196Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:46.196Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:46.196Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:46.196Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:46.196Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:38:46.202Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:46.202Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:38:46.202Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:46.202Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 5.123704ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.123704ms"}}
[debug] [2023-05-07T00:38:46.210Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:38:46.211Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:46.212Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:46.212Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:38:46.213Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:38:46.212Z"],"workRunningCount":4}
[debug] [2023-05-07T00:38:46.213Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T00:38:46.222Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:38:46.222Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T00:38:46.222Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:38:46.223Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 363.218079ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 363.218079ms"}}
[debug] [2023-05-07T00:38:46.586Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:38:46.586Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:40:14.284Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:40:14.284Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:40:14.285Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:40:14.284Z"],"workRunningCount":4}
[debug] [2023-05-07T00:40:14.285Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=5999 --> us-central1-api
[debug] [2023-05-07T00:40:14.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:40:14.294Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999"}}
[debug] [2023-05-07T00:40:14.294Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:40:14.294Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[debug] [2023-05-07T00:40:14.299Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:40:14.299Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:40:14.284Z"],"workRunningCount":4}
[debug] [2023-05-07T00:40:14.300Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:40:14.284Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:40:14.299Z"],"workRunningCount":5}
[debug] [2023-05-07T00:40:14.300Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=5999 --> us-central1-api
[debug] [2023-05-07T00:40:14.306Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:40:14.307Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=5999, mapping to path=/payments/create?total=5999"}}
[debug] [2023-05-07T00:40:14.307Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:40:14.307Z] [worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 5999 {"user":"Payment Request Received!! for this amount>>> 5999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 5999"}}
[info] >  Payment Request Received!! for this amount>>> 5999 {"user":"Payment Request Received!! for this amount>>> 5999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 5999"}}
[info] i  functions: Finished "us-central1-api" in 601.27093ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 601.27093ms"}}
[debug] [2023-05-07T00:40:14.897Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: IDLE"}}
[debug] [2023-05-07T00:40:14.897Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:40:14.299Z"],"workRunningCount":4}
[info] i  functions: Finished "us-central1-api" in 643.352052ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 643.352052ms"}}
[debug] [2023-05-07T00:40:14.951Z] [worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: IDLE"}}
[debug] [2023-05-07T00:40:14.951Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:49:17.906Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:17.906Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:49:17.906Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:17.906Z"],"workRunningCount":4}
[debug] [2023-05-07T00:49:17.907Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:49:17.910Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:49:17.911Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:49:17.911Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:49:17.911Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: BUSY"}}
[debug] [2023-05-07T00:49:17.914Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:17.914Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:17.906Z"],"workRunningCount":4}
[debug] [2023-05-07T00:49:17.914Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:17.906Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:17.914Z"],"workRunningCount":5}
[debug] [2023-05-07T00:49:17.914Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:49:17.919Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:49:17.920Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:49:17.920Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:49:17.920Z] [worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_3MVoeRsew38QEu?t=1683420558', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_3MVoeRsew38QEu?t=1683420558',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_3MVoeRsew38QEu?t=1683420558',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:49:18 GMT', {"user":"      date: 'Sun, 07 May 2023 00:49:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:49:18 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '37fa2130-300e-4689-ba0b-490ef8cdf651', {"user":"      'idempotency-key': '37fa2130-300e-4689-ba0b-490ef8cdf651',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '37fa2130-300e-4689-ba0b-490ef8cdf651',"}}
[info] >        'original-request': 'req_3MVoeRsew38QEu', {"user":"      'original-request': 'req_3MVoeRsew38QEu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_3MVoeRsew38QEu',"}}
[info] >        'request-id': 'req_3MVoeRsew38QEu', {"user":"      'request-id': 'req_3MVoeRsew38QEu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_3MVoeRsew38QEu',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_3MVoeRsew38QEu' {"user":"    requestId: 'req_3MVoeRsew38QEu'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_3MVoeRsew38QEu'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:49:18 GMT', {"user":"    date: 'Sun, 07 May 2023 00:49:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:49:18 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '37fa2130-300e-4689-ba0b-490ef8cdf651', {"user":"    'idempotency-key': '37fa2130-300e-4689-ba0b-490ef8cdf651',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '37fa2130-300e-4689-ba0b-490ef8cdf651',"}}
[info] >      'original-request': 'req_3MVoeRsew38QEu', {"user":"    'original-request': 'req_3MVoeRsew38QEu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_3MVoeRsew38QEu',"}}
[info] >      'request-id': 'req_3MVoeRsew38QEu', {"user":"    'request-id': 'req_3MVoeRsew38QEu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_3MVoeRsew38QEu',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_3MVoeRsew38QEu', {"user":"  requestId: 'req_3MVoeRsew38QEu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_3MVoeRsew38QEu',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:49:18.405Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:17.914Z"],"workRunningCount":4}
[debug] [2023-05-07T00:49:18.405Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: exited"}}
[debug] [2023-05-07T00:49:18.405Z] [worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3367eaa2-fa0f-4b5a-999f-a4644d960716]: FINISHED"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_1RCq5fcssR1WcC?t=1683420558', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_1RCq5fcssR1WcC?t=1683420558',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_1RCq5fcssR1WcC?t=1683420558',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:49:18 GMT', {"user":"      date: 'Sun, 07 May 2023 00:49:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:49:18 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'c5162850-fecf-4649-9a97-b2e168192d3b', {"user":"      'idempotency-key': 'c5162850-fecf-4649-9a97-b2e168192d3b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c5162850-fecf-4649-9a97-b2e168192d3b',"}}
[info] >        'original-request': 'req_1RCq5fcssR1WcC', {"user":"      'original-request': 'req_1RCq5fcssR1WcC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_1RCq5fcssR1WcC',"}}
[info] >        'request-id': 'req_1RCq5fcssR1WcC', {"user":"      'request-id': 'req_1RCq5fcssR1WcC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_1RCq5fcssR1WcC',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_1RCq5fcssR1WcC' {"user":"    requestId: 'req_1RCq5fcssR1WcC'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_1RCq5fcssR1WcC'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:49:18 GMT', {"user":"    date: 'Sun, 07 May 2023 00:49:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:49:18 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'c5162850-fecf-4649-9a97-b2e168192d3b', {"user":"    'idempotency-key': 'c5162850-fecf-4649-9a97-b2e168192d3b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c5162850-fecf-4649-9a97-b2e168192d3b',"}}
[info] >      'original-request': 'req_1RCq5fcssR1WcC', {"user":"    'original-request': 'req_1RCq5fcssR1WcC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_1RCq5fcssR1WcC',"}}
[info] >      'request-id': 'req_1RCq5fcssR1WcC', {"user":"    'request-id': 'req_1RCq5fcssR1WcC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_1RCq5fcssR1WcC',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_1RCq5fcssR1WcC', {"user":"  requestId: 'req_1RCq5fcssR1WcC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_1RCq5fcssR1WcC',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:49:18.446Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:49:18.447Z] [worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: exited"}}
[debug] [2023-05-07T00:49:18.447Z] [worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-35851295-f650-4188-85f0-f8723e1fa8f8]: FINISHED"}}
[debug] [2023-05-07T00:49:35.932Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:35.932Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:49:35.932Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:35.932Z"],"workRunningCount":4}
[debug] [2023-05-07T00:49:35.932Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=103399 --> us-central1-api
[debug] [2023-05-07T00:49:35.939Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:49:35.939Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399"}}
[debug] [2023-05-07T00:49:35.939Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 3"}}
[debug] [2023-05-07T00:49:35.954Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:49:35.954Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2023-05-07T00:49:35.959Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:35.958Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:35.932Z"],"workRunningCount":4}
[debug] [2023-05-07T00:49:35.959Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:35.932Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:35.958Z"],"workRunningCount":5}
[debug] [2023-05-07T00:49:35.959Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=103399 --> us-central1-api
[debug] [2023-05-07T00:49:35.966Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:49:35.966Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399"}}
[debug] [2023-05-07T00:49:35.986Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T00:49:35.986Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2023-05-07T00:49:36.912Z] [runtime-status] [47909] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:49:36.914Z] [runtime-status] [47909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:36.914Z] [runtime-status] [47909] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:49:36.915Z] [runtime-status] [47909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:36.929Z] [runtime-status] [47915] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:49:36.930Z] [runtime-status] [47915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:36.931Z] [runtime-status] [47915] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T00:49:36.932Z] [runtime-status] [47915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:37.084Z] [runtime-status] [47909] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:49:37.084Z] [runtime-status] [47909] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:49:37.085Z] [runtime-status] [47909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:37.086Z] [runtime-status] [47909] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:49:37.088Z] [runtime-status] [47909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:37.088Z] [runtime-status] [47909] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:49:37.102Z] [runtime-status] [47915] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T00:49:37.102Z] [runtime-status] [47915] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T00:49:37.103Z] [runtime-status] [47915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:37.104Z] [runtime-status] [47915] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T00:49:37.105Z] [runtime-status] [47915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T00:49:37.105Z] [runtime-status] [47915] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T00:49:37.191Z] [runtime-status] [47909] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:49:37.191Z] [runtime-status] [47909] Listening to port: /tmp/fire_emu_a10c36772ecb12bf.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47909] Listening to port: /tmp/fire_emu_a10c36772ecb12bf.sock"}}
[debug] [2023-05-07T00:49:37.210Z] [runtime-status] [47915] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T00:49:37.211Z] [runtime-status] [47915] Listening to port: /tmp/fire_emu_c128bced09d0bff4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [47915] Listening to port: /tmp/fire_emu_c128bced09d0bff4.sock"}}
[debug] [2023-05-07T00:49:37.274Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE"}}
[debug] [2023-05-07T00:49:37.274Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:49:37.275Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 103399 {"user":"Payment Request Received!! for this amount>>> 103399","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 103399"}}
[debug] [2023-05-07T00:49:37.302Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE"}}
[debug] [2023-05-07T00:49:37.302Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:49:37.303Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 103399 {"user":"Payment Request Received!! for this amount>>> 103399","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 103399"}}
[info] i  functions: Finished "us-central1-api" in 699.176272ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 699.176272ms"}}
[debug] [2023-05-07T00:49:38.003Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE"}}
[debug] [2023-05-07T00:49:38.003Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:49:35.932Z"],"workRunningCount":4}
[info] i  functions: Finished "us-central1-api" in 743.110073ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 743.110073ms"}}
[debug] [2023-05-07T00:49:38.018Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE"}}
[debug] [2023-05-07T00:49:38.018Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:50:32.318Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:32.318Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:50:32.318Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:32.318Z"],"workRunningCount":4}
[debug] [2023-05-07T00:50:32.318Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=103399 --> us-central1-api
[debug] [2023-05-07T00:50:32.323Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:50:32.324Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399"}}
[debug] [2023-05-07T00:50:32.324Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:50:32.324Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 103399 {"user":"Payment Request Received!! for this amount>>> 103399","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 103399"}}
[debug] [2023-05-07T00:50:32.383Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:32.383Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:32.318Z"],"workRunningCount":4}
[debug] [2023-05-07T00:50:32.383Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:32.318Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:32.383Z"],"workRunningCount":5}
[debug] [2023-05-07T00:50:32.383Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=103399 --> us-central1-api
[debug] [2023-05-07T00:50:32.389Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:50:32.389Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399"}}
[debug] [2023-05-07T00:50:32.389Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:50:32.390Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 103399 {"user":"Payment Request Received!! for this amount>>> 103399","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 103399"}}
[info] i  functions: Finished "us-central1-api" in 398.355789ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 398.355789ms"}}
[debug] [2023-05-07T00:50:32.723Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE"}}
[debug] [2023-05-07T00:50:32.723Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:32.383Z"],"workRunningCount":4}
[info] i  functions: Finished "us-central1-api" in 375.706817ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 375.706817ms"}}
[debug] [2023-05-07T00:50:32.766Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE"}}
[debug] [2023-05-07T00:50:32.767Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:50:43.643Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:43.643Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:50:43.643Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:43.643Z"],"workRunningCount":4}
[debug] [2023-05-07T00:50:43.643Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=103399 --> us-central1-api
[debug] [2023-05-07T00:50:43.650Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:50:43.651Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399"}}
[debug] [2023-05-07T00:50:43.652Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:50:43.652Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY"}}
[debug] [2023-05-07T00:50:43.656Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:43.656Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:43.643Z"],"workRunningCount":4}
[debug] [2023-05-07T00:50:43.656Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:43.643Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:43.656Z"],"workRunningCount":5}
[debug] [2023-05-07T00:50:43.656Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=103399 --> us-central1-api
[debug] [2023-05-07T00:50:43.662Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:50:43.662Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=103399, mapping to path=/payments/create?total=103399"}}
[debug] [2023-05-07T00:50:43.662Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:50:43.662Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 103399 {"user":"Payment Request Received!! for this amount>>> 103399","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 103399"}}
[info] >  Payment Request Received!! for this amount>>> 103399 {"user":"Payment Request Received!! for this amount>>> 103399","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 103399"}}
[info] i  functions: Finished "us-central1-api" in 362.491778ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 362.491778ms"}}
[debug] [2023-05-07T00:50:44.025Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: IDLE"}}
[debug] [2023-05-07T00:50:44.025Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:50:43.643Z"],"workRunningCount":4}
[info] i  functions: Finished "us-central1-api" in 380.821612ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 380.821612ms"}}
[debug] [2023-05-07T00:50:44.034Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE"}}
[debug] [2023-05-07T00:50:44.034Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:52:56.038Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:52:56.038Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:52:56.038Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:52:56.038Z"],"workRunningCount":4}
[debug] [2023-05-07T00:52:56.039Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=35899 --> us-central1-api
[debug] [2023-05-07T00:52:56.044Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:52:56.045Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=35899, mapping to path=/payments/create?total=35899 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=35899, mapping to path=/payments/create?total=35899"}}
[debug] [2023-05-07T00:52:56.045Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:52:56.045Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 6.522516ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.522516ms"}}
[debug] [2023-05-07T00:52:56.053Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE"}}
[debug] [2023-05-07T00:52:56.053Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:52:56.057Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:52:56.057Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:52:56.057Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:52:56.057Z"],"workRunningCount":4}
[debug] [2023-05-07T00:52:56.058Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=35899 --> us-central1-api
[debug] [2023-05-07T00:52:56.063Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:52:56.064Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=35899, mapping to path=/payments/create?total=35899 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=35899, mapping to path=/payments/create?total=35899"}}
[debug] [2023-05-07T00:52:56.064Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:52:56.064Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 35899 {"user":"Payment Request Received!! for this amount>>> 35899","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 35899"}}
[info] i  functions: Finished "us-central1-api" in 617.366644ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 617.366644ms"}}
[debug] [2023-05-07T00:52:56.682Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: IDLE"}}
[debug] [2023-05-07T00:52:56.682Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:54:41.563Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:54:41.563Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:54:41.563Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:54:41.563Z"],"workRunningCount":4}
[debug] [2023-05-07T00:54:41.563Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:54:41.568Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:54:41.569Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:54:41.569Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:54:41.569Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: BUSY"}}
[debug] [2023-05-07T00:54:41.575Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:54:41.575Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:54:41.563Z"],"workRunningCount":4}
[debug] [2023-05-07T00:54:41.575Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:54:41.563Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:54:41.575Z"],"workRunningCount":5}
[debug] [2023-05-07T00:54:41.575Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T00:54:41.580Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T00:54:41.580Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T00:54:41.580Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T00:54:41.580Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_mCT9GCRuKGqayE?t=1683420881', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_mCT9GCRuKGqayE?t=1683420881',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_mCT9GCRuKGqayE?t=1683420881',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:54:42 GMT', {"user":"      date: 'Sun, 07 May 2023 00:54:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:54:42 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '98753d67-7825-4efa-97e8-70cbb26b39b4', {"user":"      'idempotency-key': '98753d67-7825-4efa-97e8-70cbb26b39b4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '98753d67-7825-4efa-97e8-70cbb26b39b4',"}}
[info] >        'original-request': 'req_mCT9GCRuKGqayE', {"user":"      'original-request': 'req_mCT9GCRuKGqayE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_mCT9GCRuKGqayE',"}}
[info] >        'request-id': 'req_mCT9GCRuKGqayE', {"user":"      'request-id': 'req_mCT9GCRuKGqayE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_mCT9GCRuKGqayE',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_mCT9GCRuKGqayE' {"user":"    requestId: 'req_mCT9GCRuKGqayE'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_mCT9GCRuKGqayE'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:54:42 GMT', {"user":"    date: 'Sun, 07 May 2023 00:54:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:54:42 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '98753d67-7825-4efa-97e8-70cbb26b39b4', {"user":"    'idempotency-key': '98753d67-7825-4efa-97e8-70cbb26b39b4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '98753d67-7825-4efa-97e8-70cbb26b39b4',"}}
[info] >      'original-request': 'req_mCT9GCRuKGqayE', {"user":"    'original-request': 'req_mCT9GCRuKGqayE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_mCT9GCRuKGqayE',"}}
[info] >      'request-id': 'req_mCT9GCRuKGqayE', {"user":"    'request-id': 'req_mCT9GCRuKGqayE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_mCT9GCRuKGqayE',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_mCT9GCRuKGqayE', {"user":"  requestId: 'req_mCT9GCRuKGqayE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_mCT9GCRuKGqayE',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_F7nwY05UjDYtzm?t=1683420881', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_F7nwY05UjDYtzm?t=1683420881',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_F7nwY05UjDYtzm?t=1683420881',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 00:54:42 GMT', {"user":"      date: 'Sun, 07 May 2023 00:54:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 00:54:42 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '2984aade-7d69-48b1-963a-1385eb77d127', {"user":"      'idempotency-key': '2984aade-7d69-48b1-963a-1385eb77d127',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '2984aade-7d69-48b1-963a-1385eb77d127',"}}
[info] >        'original-request': 'req_F7nwY05UjDYtzm', {"user":"      'original-request': 'req_F7nwY05UjDYtzm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_F7nwY05UjDYtzm',"}}
[info] >        'request-id': 'req_F7nwY05UjDYtzm', {"user":"      'request-id': 'req_F7nwY05UjDYtzm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_F7nwY05UjDYtzm',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_F7nwY05UjDYtzm' {"user":"    requestId: 'req_F7nwY05UjDYtzm'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_F7nwY05UjDYtzm'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 00:54:42 GMT', {"user":"    date: 'Sun, 07 May 2023 00:54:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 00:54:42 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '2984aade-7d69-48b1-963a-1385eb77d127', {"user":"    'idempotency-key': '2984aade-7d69-48b1-963a-1385eb77d127',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '2984aade-7d69-48b1-963a-1385eb77d127',"}}
[info] >      'original-request': 'req_F7nwY05UjDYtzm', {"user":"    'original-request': 'req_F7nwY05UjDYtzm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_F7nwY05UjDYtzm',"}}
[info] >      'request-id': 'req_F7nwY05UjDYtzm', {"user":"    'request-id': 'req_F7nwY05UjDYtzm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_F7nwY05UjDYtzm',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_F7nwY05UjDYtzm', {"user":"  requestId: 'req_F7nwY05UjDYtzm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_F7nwY05UjDYtzm',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:54:42.158Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:54:41.575Z"],"workRunningCount":4}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T00:54:42.159Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T00:54:42.160Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: exited"}}
[debug] [2023-05-07T00:54:42.160Z] [worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-27c63dda-4875-4ee3-9685-1759a03c41d3]: FINISHED"}}
[debug] [2023-05-07T00:54:42.160Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: exited"}}
[debug] [2023-05-07T00:54:42.160Z] [worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-46fbb91b-a61f-43b3-8140-e1a6036a772e]: FINISHED"}}
[debug] [2023-05-07T01:13:35.540Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z"],"workRunningCount":3}
[debug] [2023-05-07T01:13:35.541Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z"],"workRunningCount":4}
[debug] [2023-05-07T01:13:35.541Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T01:13:35.547Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T01:13:35.547Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T01:13:35.547Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 3"}}
[debug] [2023-05-07T01:13:35.560Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T01:13:35.560Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2023-05-07T01:13:35.748Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.748Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z"],"workRunningCount":4}
[debug] [2023-05-07T01:13:35.748Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.748Z"],"workRunningCount":5}
[debug] [2023-05-07T01:13:35.748Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-05-07T01:13:35.753Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T01:13:35.753Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-05-07T01:13:35.770Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T01:13:35.770Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2023-05-07T01:13:36.764Z] [runtime-status] [52217] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:13:36.766Z] [runtime-status] [52217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:36.767Z] [runtime-status] [52217] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T01:13:36.768Z] [runtime-status] [52217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:36.849Z] [runtime-status] [52225] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:13:36.851Z] [runtime-status] [52225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:36.851Z] [runtime-status] [52225] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T01:13:36.853Z] [runtime-status] [52225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:37.013Z] [runtime-status] [52217] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T01:13:37.013Z] [runtime-status] [52217] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T01:13:37.014Z] [runtime-status] [52217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:37.015Z] [runtime-status] [52217] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:13:37.016Z] [runtime-status] [52217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:37.017Z] [runtime-status] [52217] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T01:13:37.068Z] [runtime-status] [52225] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T01:13:37.069Z] [runtime-status] [52225] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T01:13:37.070Z] [runtime-status] [52225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:37.071Z] [runtime-status] [52225] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:13:37.073Z] [runtime-status] [52225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:13:37.073Z] [runtime-status] [52225] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T01:13:37.128Z] [runtime-status] [52217] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T01:13:37.130Z] [runtime-status] [52217] Listening to port: /tmp/fire_emu_a1b5ef70fc043488.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52217] Listening to port: /tmp/fire_emu_a1b5ef70fc043488.sock"}}
[debug] [2023-05-07T01:13:37.181Z] [runtime-status] [52225] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T01:13:37.182Z] [runtime-status] [52225] Listening to port: /tmp/fire_emu_e68967065f344a82.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [52225] Listening to port: /tmp/fire_emu_e68967065f344a82.sock"}}
[debug] [2023-05-07T01:13:37.194Z] [worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: IDLE"}}
[debug] [2023-05-07T01:13:37.194Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T01:13:37.195Z] [worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: BUSY"}}
[debug] [2023-05-07T01:13:37.195Z] [worker-us-central1-api-8392dd0d-8f08-4ee5-8002-586222ef2a15]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8392dd0d-8f08-4ee5-8002-586222ef2a15]: IDLE"}}
[debug] [2023-05-07T01:13:37.196Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T01:13:37.196Z] [worker-us-central1-api-8392dd0d-8f08-4ee5-8002-586222ef2a15]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8392dd0d-8f08-4ee5-8002-586222ef2a15]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 0 {"user":"Payment Request Received!! for this amount>>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 0"}}
[info] >  /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/marat/Amazon-clone/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_v4shQzCDGQZzdm?t=1683422017', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_v4shQzCDGQZzdm?t=1683422017',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_v4shQzCDGQZzdm?t=1683422017',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 07 May 2023 01:13:37 GMT', {"user":"      date: 'Sun, 07 May 2023 01:13:37 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 07 May 2023 01:13:37 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '594989a0-65c7-4e23-8193-48e73bdd6676', {"user":"      'idempotency-key': '594989a0-65c7-4e23-8193-48e73bdd6676',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '594989a0-65c7-4e23-8193-48e73bdd6676',"}}
[info] >        'original-request': 'req_v4shQzCDGQZzdm', {"user":"      'original-request': 'req_v4shQzCDGQZzdm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_v4shQzCDGQZzdm',"}}
[info] >        'request-id': 'req_v4shQzCDGQZzdm', {"user":"      'request-id': 'req_v4shQzCDGQZzdm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_v4shQzCDGQZzdm',"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_v4shQzCDGQZzdm' {"user":"    requestId: 'req_v4shQzCDGQZzdm'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_v4shQzCDGQZzdm'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 07 May 2023 01:13:37 GMT', {"user":"    date: 'Sun, 07 May 2023 01:13:37 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 07 May 2023 01:13:37 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '594989a0-65c7-4e23-8193-48e73bdd6676', {"user":"    'idempotency-key': '594989a0-65c7-4e23-8193-48e73bdd6676',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '594989a0-65c7-4e23-8193-48e73bdd6676',"}}
[info] >      'original-request': 'req_v4shQzCDGQZzdm', {"user":"    'original-request': 'req_v4shQzCDGQZzdm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_v4shQzCDGQZzdm',"}}
[info] >      'request-id': 'req_v4shQzCDGQZzdm', {"user":"    'request-id': 'req_v4shQzCDGQZzdm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_v4shQzCDGQZzdm',"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_v4shQzCDGQZzdm', {"user":"  requestId: 'req_v4shQzCDGQZzdm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_v4shQzCDGQZzdm',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.15.0 {"user":"Node.js v18.15.0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.15.0"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-05-07T01:13:38.027Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z"],"workRunningCount":4}
[debug] [2023-05-07T01:13:38.027Z] [worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: exited"}}
[debug] [2023-05-07T01:13:38.027Z] [worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d993825e-74eb-4c9e-984e-66369385c2db]: FINISHED"}}
[debug] [2023-05-07T01:22:05.812Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z"],"workRunningCount":4}
[debug] [2023-05-07T01:22:05.813Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T01:22:05.813Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=26499 --> us-central1-api
[debug] [2023-05-07T01:22:05.817Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T01:22:05.817Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=26499, mapping to path=/payments/create?total=26499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=26499, mapping to path=/payments/create?total=26499"}}
[debug] [2023-05-07T01:22:05.817Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 4"}}
[debug] [2023-05-07T01:22:05.827Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T01:22:05.827Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2023-05-07T01:22:06.019Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:06.019Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T01:22:06.020Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:06.019Z"],"workRunningCount":6}
[debug] [2023-05-07T01:22:06.020Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=26499 --> us-central1-api
[debug] [2023-05-07T01:22:06.023Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T01:22:06.023Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=26499, mapping to path=/payments/create?total=26499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=26499, mapping to path=/payments/create?total=26499"}}
[debug] [2023-05-07T01:22:06.033Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T01:22:06.034Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2023-05-07T01:22:06.717Z] [runtime-status] [53849] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:22:06.718Z] [runtime-status] [53849] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:06.719Z] [runtime-status] [53849] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T01:22:06.719Z] [runtime-status] [53849] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:06.897Z] [runtime-status] [53849] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T01:22:06.897Z] [runtime-status] [53849] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T01:22:06.898Z] [runtime-status] [53849] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:06.899Z] [runtime-status] [53849] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:22:06.901Z] [runtime-status] [53849] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:06.901Z] [runtime-status] [53849] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T01:22:06.935Z] [runtime-status] [53856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:22:06.936Z] [runtime-status] [53856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:06.937Z] [runtime-status] [53856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T01:22:06.938Z] [runtime-status] [53856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:07.008Z] [runtime-status] [53849] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T01:22:07.009Z] [runtime-status] [53849] Listening to port: /tmp/fire_emu_4e4c65994ce0d633.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53849] Listening to port: /tmp/fire_emu_4e4c65994ce0d633.sock"}}
[debug] [2023-05-07T01:22:07.050Z] [worker-us-central1-api-af55ff7c-fb81-4867-b7f4-90f0a3f68f9f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-af55ff7c-fb81-4867-b7f4-90f0a3f68f9f]: IDLE"}}
[debug] [2023-05-07T01:22:07.051Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T01:22:07.051Z] [worker-us-central1-api-af55ff7c-fb81-4867-b7f4-90f0a3f68f9f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-af55ff7c-fb81-4867-b7f4-90f0a3f68f9f]: BUSY"}}
[debug] [2023-05-07T01:22:07.100Z] [runtime-status] [53856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T01:22:07.101Z] [runtime-status] [53856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T01:22:07.102Z] [runtime-status] [53856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:07.103Z] [runtime-status] [53856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T01:22:07.105Z] [runtime-status] [53856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T01:22:07.106Z] [runtime-status] [53856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T01:22:07.208Z] [runtime-status] [53856] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T01:22:07.209Z] [runtime-status] [53856] Listening to port: /tmp/fire_emu_03ea46fbe4f9bf73.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [53856] Listening to port: /tmp/fire_emu_03ea46fbe4f9bf73.sock"}}
[debug] [2023-05-07T01:22:07.251Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE"}}
[debug] [2023-05-07T01:22:07.251Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T01:22:07.252Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 26499 {"user":"Payment Request Received!! for this amount>>> 26499","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 26499"}}
[info] i  functions: Finished "us-central1-api" in 613.541242ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 613.541242ms"}}
[debug] [2023-05-07T01:22:07.866Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE"}}
[debug] [2023-05-07T01:22:07.866Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T01:23:08.114Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:23:08.113Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T01:23:08.114Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:23:08.113Z"],"workRunningCount":6}
[debug] [2023-05-07T01:23:08.114Z] Accepted request OPTIONS /chalenge-d57e1/us-central1/api/payments/create?total=9900 --> us-central1-api
[debug] [2023-05-07T01:23:08.121Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T01:23:08.121Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900"}}
[debug] [2023-05-07T01:23:08.121Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T01:23:08.122Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 8.595158ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8.595158ms"}}
[debug] [2023-05-07T01:23:08.131Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE"}}
[debug] [2023-05-07T01:23:08.131Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T01:23:08.133Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:23:08.133Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T01:23:08.134Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:23:08.133Z"],"workRunningCount":6}
[debug] [2023-05-07T01:23:08.134Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=9900 --> us-central1-api
[debug] [2023-05-07T01:23:08.140Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T01:23:08.140Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900"}}
[debug] [2023-05-07T01:23:08.140Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T01:23:08.141Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 9900 {"user":"Payment Request Received!! for this amount>>> 9900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 9900"}}
[info] i  functions: Finished "us-central1-api" in 369.828643ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 369.828643ms"}}
[debug] [2023-05-07T01:23:08.511Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE"}}
[debug] [2023-05-07T01:23:08.512Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T12:11:23.271Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T12:11:23.271Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T12:11:23.272Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T12:11:23.271Z"],"workRunningCount":6}
[debug] [2023-05-07T12:11:23.272Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=9900 --> us-central1-api
[debug] [2023-05-07T12:11:23.277Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T12:11:23.278Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900"}}
[debug] [2023-05-07T12:11:23.278Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T12:11:23.278Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY"}}
[debug] [2023-05-07T12:11:23.281Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T12:11:23.281Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T12:11:23.271Z"],"workRunningCount":6}
[debug] [2023-05-07T12:11:23.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T12:11:23.271Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T12:11:23.281Z"],"workRunningCount":7}
[debug] [2023-05-07T12:11:23.281Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=9900 --> us-central1-api
[debug] [2023-05-07T12:11:23.288Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T12:11:23.288Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=9900, mapping to path=/payments/create?total=9900"}}
[debug] [2023-05-07T12:11:23.302Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-05-07T12:11:23.303Z] [worker-pool] Adding worker with key us-central1-api, total=7 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=7"}}
[info] >  Payment Request Received!! for this amount>>> 9900 {"user":"Payment Request Received!! for this amount>>> 9900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 9900"}}
[info] i  functions: Finished "us-central1-api" in 645.520932ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 645.520932ms"}}
[debug] [2023-05-07T12:11:23.924Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE"}}
[debug] [2023-05-07T12:11:23.925Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T12:11:23.281Z"],"workRunningCount":6}
[debug] [2023-05-07T12:11:24.175Z] [runtime-status] [55723] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T12:11:24.176Z] [runtime-status] [55723] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T12:11:24.177Z] [runtime-status] [55723] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-07T12:11:24.178Z] [runtime-status] [55723] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T12:11:24.348Z] [runtime-status] [55723] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-07T12:11:24.348Z] [runtime-status] [55723] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-07T12:11:24.349Z] [runtime-status] [55723] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T12:11:24.350Z] [runtime-status] [55723] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-07T12:11:24.351Z] [runtime-status] [55723] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.3.1","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.3.1\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-07T12:11:24.351Z] [runtime-status] [55723] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.7.0","resolution":"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.7.0\",\"resolution\":\"/home/marat/Amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-07T12:11:24.451Z] [runtime-status] [55723] Functions runtime initialized. {"cwd":"/home/marat/Amazon-clone/functions","node_version":"18.15.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Functions runtime initialized. {\"cwd\":\"/home/marat/Amazon-clone/functions\",\"node_version\":\"18.15.0\"}"}}
[debug] [2023-05-07T12:11:24.452Z] [runtime-status] [55723] Listening to port: /tmp/fire_emu_4d58e495b31c5090.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [55723] Listening to port: /tmp/fire_emu_4d58e495b31c5090.sock"}}
[debug] [2023-05-07T12:11:24.521Z] [worker-us-central1-api-b5111be2-90e5-4515-9d0c-0ed502d0d601]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b5111be2-90e5-4515-9d0c-0ed502d0d601]: IDLE"}}
[debug] [2023-05-07T12:11:24.521Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T12:11:24.522Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 9900 {"user":"Payment Request Received!! for this amount>>> 9900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 9900"}}
[info] i  functions: Finished "us-central1-api" in 383.518322ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 383.518322ms"}}
[debug] [2023-05-07T12:11:24.906Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE"}}
[debug] [2023-05-07T12:11:24.906Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T16:43:35.560Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T16:43:35.560Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
[debug] [2023-05-07T16:43:35.561Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T16:43:35.560Z"],"workRunningCount":6}
[debug] [2023-05-07T16:43:35.561Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T16:43:35.567Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T16:43:35.567Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T16:43:35.567Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T16:43:35.568Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: BUSY"}}
[debug] [2023-05-07T16:43:35.571Z] [work-queue] {"queuedWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T16:43:35.571Z"],"queueLength":1,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T16:43:35.560Z"],"workRunningCount":6}
[debug] [2023-05-07T16:43:35.571Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T16:43:35.560Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T16:43:35.571Z"],"workRunningCount":7}
[debug] [2023-05-07T16:43:35.571Z] Accepted request POST /chalenge-d57e1/us-central1/api/payments/create?total=6199 --> us-central1-api
[debug] [2023-05-07T16:43:35.575Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-07T16:43:35.575Z] [functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/chalenge-d57e1/us-central1/api/payments/create?total=6199, mapping to path=/payments/create?total=6199"}}
[debug] [2023-05-07T16:43:35.575Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-05-07T16:43:35.575Z] [worker-us-central1-api-b5111be2-90e5-4515-9d0c-0ed502d0d601]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b5111be2-90e5-4515-9d0c-0ed502d0d601]: BUSY"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] >  Payment Request Received!! for this amount>>> 6199 {"user":"Payment Request Received!! for this amount>>> 6199","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received!! for this amount>>> 6199"}}
[info] i  functions: Finished "us-central1-api" in 674.729766ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 674.729766ms"}}
[debug] [2023-05-07T16:43:36.243Z] [worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3d44a7f2-0e6d-47bc-8d25-11b9b821c752]: IDLE"}}
[debug] [2023-05-07T16:43:36.244Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T16:43:35.571Z"],"workRunningCount":6}
[info] i  functions: Finished "us-central1-api" in 680.352589ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 680.352589ms"}}
[debug] [2023-05-07T16:43:36.256Z] [worker-us-central1-api-b5111be2-90e5-4515-9d0c-0ed502d0d601]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b5111be2-90e5-4515-9d0c-0ed502d0d601]: IDLE"}}
[debug] [2023-05-07T16:43:36.256Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:08:51.657Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:09:04.533Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T00:10:26.062Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:13:35.540Z","/chalenge-d57e1/us-central1/api/payments/create-2023-05-07T01:22:05.812Z"],"workRunningCount":5}
